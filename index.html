<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>陈哲&史丽雯 婚礼邀请</title>
	<meta name="keywords" content="" />
	<meta name="description" content="">
	<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no, user-scalable=0,minimal-ui"
	/>
	<meta name="format-detection" content="telephone=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta content="black" name="apple-mobile-web-app-status-bar-style" />
	<meta content="email=no" name="format-detection" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="陈哲&史丽雯 婚礼邀请">
	<meta property="og:description" content="2018.9.1新紫金">
	<meta property="og:image" content="https://gw.alicdn.com/tfs/TB1fWobI3mTBuNjy1XbXXaMrVXa-300-300.jpg">
	<meta property="og:url" content="http://chardri.github.io/">
	<link rel="stylesheet" href="https://www.hunliji.com/p/wedding/Public/wap/static/css/wrap_common.css">
	<link rel="stylesheet" href="https://www.hunliji.com/p/wedding/Public/wap/invitationCard/css/card_main.min.css?v=20180305211">
	<link rel="stylesheet" href="//ocafkzd89.qnssl.com/animate_old_v1.0.css">
	<link rel="stylesheet" href="//ocafkzd89.qnssl.com/animate.min_v1.0.css">
	<link rel="stylesheet" href="//ocafkzd89.qnssl.com/animate_other_v1.0.css">
	<link rel="stylesheet" href="https://www.hunliji.com/p/wedding/Public/wap/invitationCard/css/hlj_animate.css?v=20171018">
	<!-- <link rel="icon" href="http://qnm.hunliji.com/o_1ah8sh0g58hqcgc1sfm1clv1t34c.ico" type="image/x-icon"> -->
</head>

<body>
	<div style="display:none;"><img src="https://gw.alicdn.com/tfs/TB1KNSBb56guuRjy1XdXXaAwpXa-458-390.png" alt=""></div>
	<audio id="playMusic" loop></audio>
	<div class="loadmore-loading">
		<div></div>
		<p></p>
	</div>
	<script src="//ocafkzd89.qnssl.com/zepto.min_v20170710.js"></script>
	<script src="//ocafkzd89.qnssl.com/jweixin-1.0.0.js"></script>
	<script src="//ocafkzd89.qnssl.com/base64.min.js"></script>
	<script src="//ocafkzd89.qnssl.com/wxShare_new_v20170710.js"></script>
	<script src="//ocafkzd89.qnssl.com/hammer.min_v20170710.js"></script>
	<script>
		function boot() {
			this.result = "", this.card_id = "", this.type = "", this.guests = {}, this.guestState = !0, this.allPage = [],
				this.width = window.innerWidth, this.height = window.innerHeight, this.UI_WIDTH = 750, this.UI_HEIGHT =
				1220,
				this.seating = 0, this.autoState = !1, this.musicStatePause = "false", this.log = [], this.videoNext = !
				1, this
				.videoHave = !1, this.editState = !1, this.hideEditState = !1, this.infiniteArr = [], this.chatNo = 0,
				this.chatSeat =
				0, this.giftSeat = 0, this.defaultGiftSeat = 0, this.isCardMaster = !1, this.gift_m = 0, this.gift_t,
				this.showGiftPage = !
				0, this.giftProperty = {}, this.send_state = 0, this.send_name = "", this.send_price = "", this.send_wish =
				"祝你们爱情永驻，甜蜜幸福", this.gift_touchSeat = 0, this.otherState = {
					chat_state: !1,
					chat_entry: !1,
					chat_gift: !1,
					chat_cash: !1
				}, this.localhost = location.host.indexOf("api") > -1 ? "//test.hunliji.com" : "//" + location.host,
				this.saashost =
				location.host.indexOf("www") > -1 ? "//www.yunkexiongdi.com" : "//erptest.hunliji.com", this.API = {
					card_info: "/p/wedding/index.php/home/APIInvitationV3/card_h5",
					all_gifts: "/p/wedding/index.php/Home/APICardGift2/index",
					sendCash: "/p/wedding/index.php/Home/APICardCashGift/give",
					sendGift: "/p/wedding/index.php/Home/APICardGift2/give",
					reply: "/p/wedding/index.php/home/APIInvitationV3/reply",
					gifts_and_replies: "/p/wedding/index.php/Home/APICardGift2/gifts_and_replies",
					sdkData: "/v1/api/app/tracker/batch.json",
					template: "/p/wedding/index.php/Home/APIInvitationV3/previewTemplate",
					otherMapImage: "/p/wedding/index.php/home/APIInvitationV3/card_map_image",
					getInfo: "/saas/index.php/Api/APIYx_wxalbum_appointment",
					appointment: "/saas/index.php/Api/APIYx_wxalbum_appointment"
				}, this.$giftAni = null, this.triggerGiftBtn = "sendGiftBtn", this.aniStyle = ""
		}
		boot.prototype = function () {
			return changeImgUrl = function (a) {
				return a
			}, wxsq = function () {
				var a = this,
					b = 99 / this.UI_WIDTH * this.width + "px",
					c = 110 / this.UI_WIDTH * this.width + "px",
					d = 80 / this.UI_WIDTH * this.width + "px",
					e = 26 / this.UI_WIDTH * this.width + "px",
					f = 96 / this.UI_WIDTH * this.width + "px",
					g = 56 / this.UI_WIDTH * this.width + "px",
					h = 30 / this.UI_WIDTH * this.width + "px",
					i = 690 / this.UI_WIDTH * this.width + "px",
					j = '<div id="shouquan" style="background: #fff;z-index: 50;width: ' + i +
					";display:-webkit-box;border-bottom:1px solid #e7e7e7;padding:0 " + h + "; height:" + b +
					"; line-height: " + b + "; font-size: " + e + "; color: #000; position:fixed; top:-" + c +
					'; -webkit-transition: top 600ms ease-in;">' + "<span>是否愿意接受新人的回复消息</span>" +
					'<div style="margin-left: ' +
					d + '; text-align: center;">' + '<span style="line-height: ' + g +
					";display: inline-block;background:#1aad19;color:white; width: " + f + "; height: " + g +
					'; border-radius: 4px;border: 2px solid #179c16;" id="shouquanYes">是</span>' +
					'<span style="line-height: ' + g + ";display: inline-block;background:#f8f8f8;margin-left:" +
					h +
					";width: " + f + "; height: " + g +
					'; border-radius: 4px;border: 2px solid #dfdfdf;" id="shouquanNo">否</span>' + "</div>" +
					"</div>";
				$("#other").append(j), $(document).on("touchstart", "#shouquanYes", function () {
					var b, c, d;
					sessionStorage.setItem("current_seating", a.seating), b = "http://" + location.host +
						"/p/wedding/index.php/home/APICardUserReply/wechat_callback/id/" + a.confirm_id +
						"/type/" + (a.confirm_type ||
							""), c = /test/.test(location.host) || /dev/.test(location.host) ?
						"wx7bbc8b9ae20e760f" :
						"wx6260e0fbaa341dd2", d = /test/.test(location.host) || /dev/.test(location.host) ?
						"TY5GWj5brELDZlmBwK8r4VxwCX6quS-xfxvXH6CZQvA" :
						"ZzjyGF-sqXAXAQ2eff0P_RG8yblzA50SMJk1NXwUTZ4",
						location.href =
						"https://mp.weixin.qq.com/mp/subscribemsg?action=get_confirm&appid=" + c +
						"&scene=1000&template_id=" + d + "&redirect_url=" + encodeURIComponent(b) +
						"&reserved=test#wechat_redirect"
				}), $(document).on("touchstart", "#shouquanNo", function () {
					$("#shouquan").css("top", "-" + c), a.is_get_confirm || (a.CardRepliesV2_id = null)
				})
			}, wxsq_event = function (a, b) {
				this.confirm_id = b, this.confirm_type = a, $("#shouquan").css("top", "0px")
			}, ajax_reply = function (a, b, c) {
				var d = this;
				$.ajax({
					url: d.localhost + d.API.reply,
					type: "post",
					data: a,
					success: function (a) {
						0 == a.status.RetCode && (d.CardRepliesV2_id = c ? null : a.data && a.data.id,
							d.winMsg({
								img: d.changeImgUrl(
									"//qnm.hunliji.com/o_1bjph0pq0u9aoib3fqo87169m7.png"
								),
								disMsg: "发送成功",
								id: "giftPageBtn",
								col: "送祝福"
							}), d.chatState = !1, b ? b() : null)
					}
				})
			}, ajax_gifts = function () {
				var a = this;
				$.ajax({
					url: a.localhost + a.API.all_gifts,
					type: "get",
					data: {
						with_myb: a.with_myb ? 1 : 0
					},
					success: function (b) {
						0 == b.status.RetCode && (a.allGifts = b.data.list, b.data.list.forEach(
							function (b, c) {
								1 == b.is_select && (a.giftSeat = c, a.defaultGiftSeat = c)
							}), a.selectGift(), a.giftPage(), a.selectGift_v2(), a.getCookie(
							"showGiftPage") && (a.showGiftPage = !
							1, $("#giftPage").css({
								top: 0,
								opacity: 1
							}), a.animateGiftAni(), $("#upImg").hide(), setTimeout(function () {
								a.writeCookie("showGiftPage", "", -1)
							}, 300)))
					}
				})
			}, ajax_info = function () {
				var a = this,
					b = document.createElement("div"),
					c = document.createElement("div"),
					d = document.createElement("div");
				b.setAttribute("id", "wrap"), c.setAttribute("id", "all-page"), d.setAttribute("id", "other"),
					b.appendChild(
						c), document.body.appendChild(d), document.body.appendChild(b), a.getCookie("editState") &&
					a.type && (
						this.editState = a.getCookie("editState")), this.card_id = this.getParams("card_id"),
					this.type = this.getParams(
						"type"), a.isCardMaster = "cardMaster" === this.getParams("appName"),
					(function () {
						//数据
						var b = {
							"status": {
								"RetCode": 0,
								"msg": "success"
							},
							"data": {
								"guest_template": 1,
								"cardInfo": {
									"id": 13517991,
									"bride_name": "\u53f2\u4e3d\u96ef",
									"groom_name": "\u9648\u54f2",
									"latitude": 31.026019,
									"longtitude": 119.916873,
									"place": "\u6e56\u5dde\u957f\u5174\u65b0\u7d2b\u91d1\u5927\u9152\u5e97",
									"version": 1,
									"time": "2018-09-01 17:28:00",
									"user_id": "10147407",
									"theme_id": 173,
									"map_type": 1,
									"set_up": {
										"danmu": 0,
										"wish": 1,
										"gift": 0,
										"gold": 0,
										"is_auto_fund": 0,
										"id": 13517991
									},
									"card_claim": {
										"is_open": 1,
										"total_income": 0,
										"need_auth": 0
									},
									"preview_link": "https:\/\/www.hunliji.com\/p\/wedding\/Home\/Pay\/card_page?card_id=MTM1MTc5OTFmaXJlX2Nsb3Vk&appName=weddingUser&type=app",
									"preview_only_link": "https:\/\/www.hunliji.com\/p\/wedding\/Home\/Pay\/card_page?card_id=MTM1MTc5OTFmaXJlX2Nsb3Vk&appName=weddingUser&type=app&edit=0",
									"map_image": "http:\/\/qnm.hunliji.com\/FknVxgeBEBhAU2TIoe7Ju0-LOMGn",
									"card_saas_info": null
								},
								"page": [{
									"id": 116330305,
									"layout": {
										"background": "./images/19.jpeg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["500"],
											"height": "126",
											"img": "http:\/\/qnm.hunliji.com\/o_1c1co4ftu1rg115bcnu1ha917673d.png",
											"rotate": "",
											"width": "388",
											"x": "181",
											"y": "770",
											"z_order": "1",
											"duration": ["2000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_3",
											"line_spacing": null
										// }, {
										// 	"infinite": "",
										// 	"inf_delay": "",
										// 	"inf_duration": "",
										// 	"animate": ["rotateInDownLeft"],
										// 	"delay": ["500"],
										// 	"height": "41",
										// 	"img": "http:\/\/qnm.hunliji.com\/o_1c1co4s5lfvm1m391iqr19jo15ko4t.png",
										// 	"rotate": "",
										// 	"width": "61",
										// 	"x": "341",
										// 	"y": "683",
										// 	"z_order": "2",
										// 	"duration": ["2000"],
										// 	"is_down": "0",
										// 	"is_scale": "0",
										// 	"id": "ele_7",
										// 	"line_spacing": null
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FoHZAtllltMeWdutgI2wG3GMo7aQ",
											"delay": ["500"],
											"rotate": "0",
											"x": "8",
											"y": "672",
											"width": "330",
											"height": "59",
											"z_order": "3",
											"id": 15375,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": "",
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "groom",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FgDbjH8D92lkDV1InVn7emTwjvnR",
											"delay": ["500"],
											"rotate": "0",
											"x": "399",
											"y": "672",
											"width": "342",
											"height": "59",
											"z_order": "3",
											"id": 15376,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": "",
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "bride",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FnUKGZKg4VRoz2pDp-FLjU5eWuXz",
											"delay": ["500"],
											"rotate": "0",
											"x": "124",
											"y": "905",
											"width": "503",
											"height": "43",
											"z_order": "3",
											"id": 15377,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": "",
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "time",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FuZSXJ1262FHbFIGTQVSrHXkuRMq",
											"delay": ["2000"],
											"rotate": "0",
											"x": "124",
											"y": "957",
											"width": "503",
											"height": "100",
											"z_order": "3",
											"id": 15378,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": "",
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "location",
											"edit_btn_position": 0
										}]
									}
								}, {
									"id": "116296110",
									"layout": {
										"background": "http:\/\/qnm.hunliji.com\/o_1bk99qqlf112sbgu11nk5lbsr421.jpg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1xUUaI1uSBuNjy1XcXXcYjFXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "46",
											"y": "183",
											"z_order": "3",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_0",
											"line_spacing": ""
										}, {
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1FYChb56guuRjy1XdXXaAwpXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "51",
											"y": "192",
											"z_order": "2",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_1",
											"line_spacing": ""
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FsEKvAK2APS0aOHM6COBUDp2taU0",
											"delay": ["3200"],
											"rotate": 0,
											"x": "62",
											"y": "207",
											"width": "626",
											"height": "614",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk47ps2q1olaujhpq1rti1cvk2g.png",
												"width": "626",
												"height": "614"
											},
											"z_order": "4",
											"id": 5144,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FjFIPAV3ScxQ8YMVEAa6bTsGjyGO",
											"delay": ["100"],
											"rotate": 0,
											"x": "0",
											"y": "0",
											"width": "750",
											"height": "1220",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk6bssud167itm91brj12q2d6n21.png",
												"width": "750",
												"height": "1220"
											},
											"z_order": "1",
											"id": 5145,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": "1"
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/Fu9ZMwcMU97JYu53SI7BatrZWg0j",
											"delay": ["800"],
											"rotate": "0",
											"x": "193",
											"y": "863",
											"width": "365",
											"height": "68",
											"z_order": "4",
											"id": 7347,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/FiZDkwt1EnvTBuxF6xtCnBIFHvHY",
											"delay": ["1000"],
											"rotate": "0",
											"x": "168",
											"y": "949",
											"width": "415",
											"height": "26",
											"z_order": "4",
											"id": 7348,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}]
									}
								}, {
									"id": "116296111",
									"layout": {
										"background": "http:\/\/qnm.hunliji.com\/o_1bk9apv82boj1j7u1h7319uk1k9s21.jpg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1xUUaI1uSBuNjy1XcXXcYjFXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "46",
											"y": "183",
											"z_order": "3",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_0",
											"line_spacing": ""
										}, {
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1FYChb56guuRjy1XdXXaAwpXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "51",
											"y": "192",
											"z_order": "2",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_1",
											"line_spacing": ""
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FgQTwXBjhtB_KaR9jkJ4gQe19Lqw",
											"delay": ["3200"],
											"rotate": 0,
											"x": "62",
											"y": "207",
											"width": "626",
											"height": "614",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk47ps2q1olaujhpq1rti1cvk2g.png",
												"width": "626",
												"height": "614"
											},
											"z_order": "4",
											"id": 5149,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FrbKDTM-VRUm_88o_ijeFotGHDuF",
											"delay": ["100"],
											"rotate": 0,
											"x": "0",
											"y": "0",
											"width": "750",
											"height": "1220",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk6cca9fgh31o2g1g53u106rh28.png",
												"width": "750",
												"height": "1220"
											},
											"z_order": "1",
											"id": 5150,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": "1"
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/FsmzZYxxHsD6n-5t2CUhY7D5xVjD",
											"delay": ["800"],
											"rotate": "0",
											"x": "198",
											"y": "863",
											"width": "360",
											"height": "68",
											"z_order": "4",
											"id": 7352,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/Fu9_YY8VhFg_vvryQIG7clyIsW8x",
											"delay": ["1000"],
											"rotate": "0",
											"x": "176",
											"y": "949",
											"width": "420",
											"height": "26",
											"z_order": "4",
											"id": 7353,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}]
									}
								}, {
									"id": 118352243,
									"layout": {
										"background": "http:\/\/qnm.hunliji.com\/o_1bk99qqlf112sbgu11nk5lbsr421.jpg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1xUUaI1uSBuNjy1XcXXcYjFXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "46",
											"y": "183",
											"z_order": "3",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_0",
											"line_spacing": ""
										}, {
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1FYChb56guuRjy1XdXXaAwpXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "51",
											"y": "192",
											"z_order": "2",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_1",
											"line_spacing": ""
										}, {
											"animate": ["fadeIn"],
											"img": "http://qnm.hunliji.com/FmjDH_lJEEN8LMZclHbhyP80a5v1",
											"delay": ["3200"],
											"rotate": 0,
											"x": "62",
											"y": "207",
											"width": "626",
											"height": "614",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk47ps2q1olaujhpq1rti1cvk2g.png",
												"width": "626",
												"height": "614"
											},
											"z_order": "4",
											"id": 5144,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/Fsh_XkCB8_NpucIuGeAjxS8b0ymR",
											"delay": ["100"],
											"rotate": 0,
											"x": "0",
											"y": "0",
											"width": "750",
											"height": "1220",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk6bssud167itm91brj12q2d6n21.png",
												"width": "750",
												"height": "1220"
											},
											"z_order": "1",
											"id": 5145,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": "1"
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/Fu9ZMwcMU97JYu53SI7BatrZWg0j",
											"delay": ["800"],
											"rotate": "0",
											"x": "193",
											"y": "863",
											"width": "365",
											"height": "68",
											"z_order": "4",
											"id": 7347,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/FiZDkwt1EnvTBuxF6xtCnBIFHvHY",
											"delay": ["1000"],
											"rotate": "0",
											"x": "168",
											"y": "949",
											"width": "415",
											"height": "26",
											"z_order": "4",
											"id": 7348,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}]
									}
								}, {
									"id": 118352244,
									"layout": {
										"background": "http:\/\/qnm.hunliji.com\/o_1bk9apv82boj1j7u1h7319uk1k9s21.jpg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1xUUaI1uSBuNjy1XcXXcYjFXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "46",
											"y": "183",
											"z_order": "3",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_0",
											"line_spacing": ""
										}, {
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1FYChb56guuRjy1XdXXaAwpXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "51",
											"y": "192",
											"z_order": "2",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_1",
											"line_spacing": ""
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FnFZ4c0rUnep6yLOd5Ysv-ZZPteY",
											"delay": ["3200"],
											"rotate": 0,
											"x": "62",
											"y": "207",
											"width": "626",
											"height": "614",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk47ps2q1olaujhpq1rti1cvk2g.png",
												"width": "626",
												"height": "614"
											},
											"z_order": "4",
											"id": 5149,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/Fij6KcazyyWuMPJzV9g0KO5dOyho",
											"delay": ["100"],
											"rotate": 0,
											"x": "0",
											"y": "0",
											"width": "750",
											"height": "1220",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk6cca9fgh31o2g1g53u106rh28.png",
												"width": "750",
												"height": "1220"
											},
											"z_order": "1",
											"id": 5150,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": "1"
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/FsmzZYxxHsD6n-5t2CUhY7D5xVjD",
											"delay": ["800"],
											"rotate": "0",
											"x": "198",
											"y": "863",
											"width": "360",
											"height": "68",
											"z_order": "4",
											"id": 7352,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/Fu9_YY8VhFg_vvryQIG7clyIsW8x",
											"delay": ["1000"],
											"rotate": "0",
											"x": "176",
											"y": "949",
											"width": "420",
											"height": "26",
											"z_order": "4",
											"id": 7353,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}]
									}
								}, {
									"id": 118352243,
									"layout": {
										"background": "http:\/\/qnm.hunliji.com\/o_1bk99qqlf112sbgu11nk5lbsr421.jpg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1xUUaI1uSBuNjy1XcXXcYjFXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "46",
											"y": "183",
											"z_order": "3",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_0",
											"line_spacing": ""
										}, {
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeInUp30per"],
											"delay": ["2500"],
											"height": "659",
											"img": "https://gw.alicdn.com/tfs/TB1FYChb56guuRjy1XdXXaAwpXa-659-659.png",
											"rotate": "",
											"width": "659",
											"x": "51",
											"y": "192",
											"z_order": "2",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_1",
											"line_spacing": ""
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/Fg-vytJaQTGpyLYWRWUFK_bIlkXR",
											"delay": ["3200"],
											"rotate": 0,
											"x": "62",
											"y": "207",
											"width": "626",
											"height": "614",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk47ps2q1olaujhpq1rti1cvk2g.png",
												"width": "626",
												"height": "614"
											},
											"z_order": "4",
											"id": 5144,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeIn"],
											"img": "http:\/\/qnm.hunliji.com\/FmQCF0I5LNUiuyLAvSssMPcb0P_R",
											"delay": ["100"],
											"rotate": 0,
											"x": "0",
											"y": "0",
											"width": "750",
											"height": "1220",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bk6bssud167itm91brj12q2d6n21.png",
												"width": "750",
												"height": "1220"
											},
											"z_order": "1",
											"id": 5145,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": "1"
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/Fu9ZMwcMU97JYu53SI7BatrZWg0j",
											"delay": ["800"],
											"rotate": "0",
											"x": "193",
											"y": "863",
											"width": "365",
											"height": "68",
											"z_order": "4",
											"id": 7347,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeInUp30per"],
											"img": "http:\/\/qnm.hunliji.com\/FiZDkwt1EnvTBuxF6xtCnBIFHvHY",
											"delay": ["1000"],
											"rotate": "0",
											"x": "168",
											"y": "949",
											"width": "415",
											"height": "26",
											"z_order": "4",
											"id": 7348,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "",
											"edit_btn_position": 0
										}]
									}
								}, {
									"id": 116296113,
									"layout": {
										"background": "http:\/\/qnm.hunliji.com\/o_1bkr195rb7d10nnhh017akk231q.jpg",
										"elements": [{
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeIn"],
											"delay": ["2200"],
											"height": "659",
											"img": "http:\/\/qnm.hunliji.com\/o_1bk5qd8kihp11bn15761br81b6g3r.jpg",
											"rotate": "",
											"width": "659",
											"x": "46",
											"y": "183",
											"z_order": "3",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_2",
											"line_spacing": ""
										}, {
											"infinite": "",
											"inf_delay": "",
											"inf_duration": "",
											"animate": ["fadeIn"],
											"delay": ["2200"],
											"height": "659",
											"img": "http:\/\/qnm.hunliji.com\/o_1bk5qdlu6ag913k2g83155d1hvj47.png",
											"rotate": "",
											"width": "659",
											"x": "51",
											"y": "192",
											"z_order": "2",
											"duration": ["1000"],
											"is_down": "0",
											"is_scale": "0",
											"id": "ele_3",
											"line_spacing": ""
										}, {
											"animate": ["fadeIn"],
											"img": "http://qnm.hunliji.com/Ft-edjq3_XtPvkef2Nz5Vx2BTktr",
											"delay": ["100"],
											"rotate": 0,
											"x": "0",
											"y": "0",
											"width": "750",
											"height": "1220",
											"mask": {
												"img": "http:\/\/qnm.hunliji.com\/o_1bkr1b45kmb695h1f0d1eid1na82p.png",
												"width": "750",
												"height": "1220"
											},
											"z_order": "0",
											"id": 7348,
											"type": "image",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": "1"
										}, {
											"animate": ["fadeIn"],
											"img": "https://gw.alicdn.com/tfs/TB1BlQsI1uSBuNjy1XcXXcYjFXa-458-390.png",
											"delay": ["3000"],
											"rotate": "0",
											"x": "146",
											"y": "240",
											"width": "458",
											"height": "390",
											"z_order": "4",
											"id": 10259,
											"type": "text",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"text_type": "location",
											"edit_btn_position": 0
										}, {
											"animate": ["fadeInUp30per"],
											"delay": ["3000"],
											"x": "100",
											"y": "672",
											"width": "549",
											"height": "319",
											"z_order": "4",
											"id": "1562",
											"type": "map",
											"is_scale": "0",
											"is_down": "0",
											"duration": ["2000ms"],
											"infinite": null,
											"inf_duration": "",
											"inf_delay": "",
											"edit_btn_position": 0
										}],
										"layTemplate": "layTemplate_feedback",
										"attendButton": {
											"textColor": "#ffffff",
											"fillColor": "#f4cf31",
											"boxColor": "#f4cf31"
										}
									}
								}],
								"music": {
									"audio": "https://gw.alicdn.com/bao/uploaded/LB18zgRIYuWBuNjSszgXXb8jVXa.mp3",
									"img": "http:\/\/qnm.hunliji.com\/o_1bkdsnr5819iv9ns1cm41tsoahmu.png",
									"close_img": "http:\/\/qnm.hunliji.com\/o_1bkdsnug1h6ethng05ffa1nvl13.png"
								},
								"page_icon": "http:\/\/qnm.hunliji.com\/o_1bkdql1q1t0q1mon7ispdu1uqsu.png",
								"share_img": "http:\/\/qnm.hunliji.com\/FiG0-wbByvQmgghdvzssyl0tn81G",
								"share": {
									"title": "\u9648\u54f2&\u53f2\u4e3d\u96ef\u7684\u5a5a\u793c\u9080\u8bf7",
									"icon": "http:\/\/qnm.hunliji.com\/FiG0-wbByvQmgghdvzssyl0tn81G?imageView2\/1\/w\/150\/h\/150",
									"desc": "\u6211\u4eec\u5c06\u572809\u670801\u65e5\u4e3e\u884c\u5a5a\u793c\uff0c\u8bda\u631a\u9080\u8bf7\u60a8\u7684\u5230\u6765",
									"min_program_hdimagepath": "http:\/\/qnm.hunliji.com\/FiG0-wbByvQmgghdvzssyl0tn81G"
								},
								"theme_background": ""
							},
							"current_time": 1532751508
						};
						var c, d, e, f, g;
						if (0 == b.status.RetCode) {
							if (1 == b.data.cardInfo.closed && !a.type) return a.closeCardState(), void 0;
							if (a.result = b.data, a.card_claim = a.result.cardInfo.card_claim && a.result.cardInfo
								.card_claim
								.is_open, a.total_income = a.result.cardInfo.card_claim && a.result.cardInfo
								.card_claim.total_income ||
								"", a.need_auth = a.result.cardInfo.card_claim && a.result.cardInfo.card_claim
								.need_auth ||
								"", document.getElementById("all-page").style.height = a.height + "px", a.init(),
								a.musicOpen =
								a.result.music.img || a.changeImgUrl(
									"//qnm.hunliji.com/o_1bi67lq091qtt1gfs60cpadqjj7.png"),
								a.musicClose = a.result.music.close_img || a.changeImgUrl(
									"//qnm.hunliji.com/o_1bi67m2q63tilg81vh1q3v10g6c.png"), a.pageIcon = a.result
								.page_icon ||
								a.changeImgUrl("//qnm.hunliji.com/o_1agpam0fsibn2814j110101jcr7.png"),
								setTimeout(function () {
									a.otherAction({
										chat_state: 1 == a.result.cardInfo.set_up.danmu ? !0 :
											!1,
										chat_entry: 1 == a.result.cardInfo.set_up.wish ? !0 : !
											1,
										chat_gift: 1 == a.result.cardInfo.set_up.gift ? !0 : !1,
										chat_cash: 1 == a.result.cardInfo.set_up.gold ? !0 : !1
									})
								}), a.getCookie("musicStatePause") && (a.musicStatePause = "false", a.type &&
									(a.musicStatePause =
										"false", a.writeCookie("musicStatePause", "false", 360))), 1 == b.data
								.cardInfo.closed && !
								a.type) return !1;
							b.data.music.audio && (a.type && $("body").on("touchstart", function () {
									"false" == a.musicStatePause && document.getElementById(
										"playMusic").play()
								}), document.getElementById("playMusic").setAttribute("src", b.data.music
									.audio.replace(
										"http:", "")), "false" == a.musicStatePause && document.getElementById(
									"playMusic").play(),
								navigator.userAgent.indexOf("iPhone") > -1 && (wx.config({
									debug: !1,
									appId: "",
									timestamp: 1,
									nonceStr: "",
									signature: "",
									jsApiList: []
								}), wx.ready(function () {
									"false" == a.musicStatePause && document.getElementById(
										"playMusic").play()
								})), c = document.createElement("div"), d = document.createElement(
									"img"), e = a.musicOpen,
								f = a.musicClose, d.setAttribute("src", "true" != a.musicStatePause ? e :
									f), c.setAttribute(
									"id", "musicBtn"), c.appendChild(d), c.style.width = 84 / a.UI_WIDTH *
								a.width + "px", c.style
								.top = 20 / a.UI_WIDTH * a.width + "px", c.style.right = 20 / a.UI_WIDTH *
								a.width + "px",
								document.getElementById("other").appendChild(c), g = document.getElementById(
									"playMusic"),
								g.addEventListener("timeupdate", function () {
									"false" == a.musicStatePause && $("#musicBtn").addClass(
										"rotate")
								}))
						}
					})()
			}, closeCardState = function () {
				$(".loadmore-loading").remove();
				var a = document.createElement("div");
				a.setAttribute("id", "closedCard"), a.innerHTML = '<img src="' + this.changeImgUrl(
						"//qnm.hunliji.com/o_1c0gi5mnl1kpa172p17s18vkdm67.png") + '" />', a.style.marginTop =
					264 / this.UI_WIDTH *
					this.width + "px", document.body.appendChild(a)
			}, init = function () {
				function i(b, c) {
					if ($(".winBgt").length >= 1) return $(".bgt_tit").text(b), $(".bgt_col").text(c), $(
						".winBgt").show(), $(
						"#chatBox").show(), !1;
					var d = document.createElement("div"),
						e = document.createElement("div");
					e.setAttribute("class", "winBgt"), d.setAttribute("id", "chatBox"), d.style.padding = 60 /
						a.UI_WIDTH * a
						.width + "px", d.innerHTML =
						'<img class="c_btn" style="position:absolute;top:0;right:0;width:' + 60 /
						a.UI_WIDTH * a.width + 'px" src="' + a.changeImgUrl(
							"http://qnm.hunliji.com/o_1blaqnfq612e8arl1lb3g53n2u7.png") +
						'"/>                <dl>                  <dt><h3 class="bgt_tit">' + b +
						'</h3></dt>                  <dd><p3 class="bgt_col">' + c +
						"</p></dd>                </dl>", document
						.getElementById("other").appendChild(e), document.getElementById("other").appendChild(d)
				}
				var e, f, g, h, a = this,
					b = {},
					c = 0,
					d = null;
				for (this.is_get_confirm = 1 == this.getCookie("is_get_confirm") || !1, this.with_myb = this.getParams(
						"with_myb"), sessionStorage.backUrl = location.href, this.result.theme_background && $(
						"body").css({
						background: "url(" + this.result.theme_background + ") 0 0 no-repeat",
						"background-size": "100% 100%"
					}), this.result.page.forEach(function (b, c) {
						b.layout.layTemplate && (a.guests.no = c, a.guests.html = b, a.buttonBg = b.layout.attendButton
							.boxColor,
							a.textColor = b.layout.attendButton.textColor)
					}), 0 == a.result.guest_template ? a.guestPageHide(!0) : null, b = a.result.share ? {
						imgUrl: a.result.share.icon,
						link: a.result.share.url,
						desc: a.result.share.desc,
						title: a.result.share.title
					} : {
						imgUrl: "" + a.result.share_img,
						link: a.isWeiXin() ? location.origin +
							"/p/wedding/Public/wap/invitationCard/demonew.html" + location.search : location.href,
						desc: a.result.cardInfo.groom_name + "与" + a.result.cardInfo.bride_name +
							"要结婚了，诚挚邀请您光临。",
						title: a.result.cardInfo.groom_name + "与" + a.result.cardInfo.bride_name + "的结婚邀请"
					}, wxShare.setWeiXinData({
						appId: "",
						imgUrl: b.imgUrl,
						link: b.link,
						desc: b.desc,
						title: b.title
					}), e = [], f = a.result.page[0].layout.elements, g = 0; g < f.length; g++) e.push(f[g].img);
				this.loading(e, function () {
						$(".loadmore-loading").remove(), $("#musicBtn").css({
								"margin-top": 0
							}), $("#all-page").empty().append(a.createPage(a.result.page).slice(0, 1)),
							setTimeout(function () {
								1 == $("#all-page div.layout").length && $("#all-page").append(a.createPage(
									a.result.page).slice(
									1))
							}, 300), a.addStyleNode(), document.getElementById("vid") && (document.getElementById(
									"vid").muted =
								"muted"), a.upDownIcon(), $("#vid").length > 0 && (document.getElementById(
								"vid").addEventListener(
								"loadedmetadata",
								function () {}), document.getElementById("vid").addEventListener(
								"timeupdate",
								function () {
									$("#video").parent().removeClass("vhave")
								}), document.getElementById("vid").addEventListener("play", function () {})),
							a.touchAction(), a.videoHave &&
							navigator.userAgent.indexOf("Android") <= -1 && $("#video").parent().addClass(
								"vhave"), setTimeout(
								function () {
									a.getCookie("editState") && a.type && (a.editState = "true" == a.getCookie(
												"editState") ? !0 :
											!1), a.type && a.getParams("edit") && (a.editState = 1 == a.getParams(
											"edit") ? !0 : !1), a
										.editIconState(a.editState)
								}, 0), a.sdk(), a.is_get_confirm || (sessionStorage.getItem("gift_id") && a
								.wxsq_event(
									"CardGift2Recv", sessionStorage.getItem("gift_id")), sessionStorage.getItem(
									"cash_id") && a.wxsq_event(
									"CardGift2Recv", sessionStorage.getItem("cash_id"))), setTimeout(
								function () {
									sessionStorage.getItem("current_seating") && (a.gotoPage(sessionStorage
										.getItem(
											"current_seating")), a.chatMsg())
								}, 300)
					}), this.allImg(this.result), this.ajax_gifts(), h = document.documentElement.clientHeight ||
					document.body
					.clientHeight, $(window).on("resize", function () {
						var a = document.documentElement.clientHeight || document.body.clientHeight;
						h > a ? navigator.userAgent.indexOf("Android") > -1 && $("#gusetBox").css({
							bottom: h - a + "px",
							top: a - $("#gusetBox").height() + "px"
						}) : navigator.userAgent.indexOf("Android") > -1 && $("#gusetBox").css({
							bottom: "0",
							top: "auto"
						})
					}), $(document).on("touchstart", ".c_btn,.winBgt", function () {
						$(".winBgt").hide(), $("#chatBox").hide()
					}), $(document).on("touchstart", ".c_g p", function () {
						var b = ($(this).text().split("："), $(this).find("span").text()),
							c = $(this).find("em").text();
						i(b, c)
					}), $(document).on("touchstart", "#musicBtn", function () {
						var b = $(this);
						b.hasClass("rotate") ? (a.musicStatePause = "true", a.writeCookie("musicStatePause",
								"true", 360),
							document.getElementById("playMusic").pause(), b.removeClass("rotate"), $(
								"#musicBtn img").attr(
								"src", a.musicClose)) : (a.musicStatePause = "false", a.writeCookie(
							"musicStatePause", "false",
							360), document.getElementById("playMusic").play(), $("#musicBtn img").attr(
							"src", a.musicOpen))
					}), $(document).on("touchstart", "#video", function () {
						document.getElementById("vid").muted = "muted", document.getElementById("vid").play(),
							$(".videoMH").removeClass(
								"nosee")
					}), $(document).on("touchstart", ".noVideo", function () {
						location.reload()
					}), $(document).on("touchstart", ".navigation", function () {
						return a.type || 0 == a.result.cardInfo.latitude && 0 == a.result.cardInfo.longtitude ?
							!1 : (
								location.href =
								'https://3gimg.qq.com/lightmap/v1/marker/index.html?type=0&marker=coord%3A31.026019%2C119.916873%3Bcoordtype%3A5%3Btitle%3A%E6%B9%96%E5%B7%9E%E9%95%BF%E5%85%B4%E6%96%B0%E7%B4%AB%E9%87%91%E5%A4%A7%E9%85%92%E5%BA%97%3Baddr%3A%E9%99%88%E5%93%B2%20%E5%92%8C%20%E5%8F%B2%E4%B8%BD%E9%9B%AF%20%E8%AF%9A%E6%8C%9A%E9%82%80%E8%AF%B7&key=QLPBZ-3O6R4-GJDUO-DITBG-UHR7K-E6B2G&referer=hunliji',
								void 0)
					}), $(document).on("touchstart", ".dwIcon", function () {
						return a.type || 0 == a.result.cardInfo.latitude && 0 == a.result.cardInfo.longtitude ?
							!1 : (
								location.href =
								'https://3gimg.qq.com/lightmap/v1/marker/index.html?type=0&marker=coord%3A31.026019%2C119.916873%3Bcoordtype%3A5%3Btitle%3A%E6%B9%96%E5%B7%9E%E9%95%BF%E5%85%B4%E6%96%B0%E7%B4%AB%E9%87%91%E5%A4%A7%E9%85%92%E5%BA%97%3Baddr%3A%E9%99%88%E5%93%B2%20%E5%92%8C%20%E5%8F%B2%E4%B8%BD%E9%9B%AF%20%E8%AF%9A%E6%8C%9A%E9%82%80%E8%AF%B7&key=QLPBZ-3O6R4-GJDUO-DITBG-UHR7K-E6B2G&referer=hunliji',
								void 0)
					}), $(document).on("touchstart", "#sendBtnWin", function () {
						$(".winMsg").remove(), $(".winBg").remove()
					}), $(document).on("touchstart", ".editIcon", function () {
						var b = {},
							c = $(this);
						b.id = c.attr("id"), b.page_id = c.attr("page_id"), b.type = c.attr("type"), c.attr(
							"videoP") && (b.video_path =
							c.attr("videoP"), b.video_width = c.attr("videoW"), b.video_height = c.attr(
								"videoH")), c.hasClass(
							"card_info") ? a.editCard_app("a", {
							cardInfo: !0
						}) : a.editCard_app("b", b)
					}), $(document).on("touchstart", ".edit_icon_pop_container", function () {
						var b = {},
							c = $(this);
						b.id = c.attr("id"), b.page_id = c.attr("page_id"), b.type = "image", a.editCard_app(
							"b", b)
					}), $(document).on("touchstart", ".sureBtn", function () {
						var b = $(".ac_wish_txt"),
							c = $(".ac_name_txt");
						return b.blur(), c.blur(), clearInterval(d), b.val().trim() ? c.val().trim() ? (a.send_name =
							c.val(),
							a.ajax_reply({
								card_id: a.card_id,
								name: a.send_name,
								state: 3,
								wish_language: b.val()
							}, function () {
								b.val(""), a.getGifts_replies(1)
							}), $("#allCode").css({
								zIndex: "-1",
								opacity: 0
							}), void 0) : (a.outputMsg("请输入您的姓名"), void 0) : (a.outputMsg("请留下您的祝福"),
							void 0)
					}), $(document).on("input", ".ac_wish_txt,.ac_name_txt", function () {
						$(".ac_wish_txt").val().trim() && $(".ac_name_txt").val().trim() ? $(".sureBtn").addClass(
								"active") :
							$(".sureBtn").removeClass("active"), $(this).hasClass("ac_name_txt") && (a.send_name =
								$(this).val()
								.trim())
					}), $(document).on("input", "#nameTxtV2", function () {
						$(this).val().trim() ? $("#sendGiftBtnV2").addClass("active") : $("#sendGiftBtnV2")
							.removeClass(
								"active"), a.send_name = $(this).val().trim()
					}), $(document).on("focus", ".ac_wish_txt", function () {
						a.chatState || (a.chatState = !0, $(this).addClass("zc"), $(this).val("").focus()),
							navigator.userAgent
							.indexOf("iPhone") > -1 && navigator.userAgent.indexOf("iPhone OS 11") <= -1 &&
							(d = setInterval(
								function () {
									document.body.scrollTop = document.body.scrollHeight
								}, 200))
					}), $(document).on("blur", ".ac_wish_txt", function () {
						$(this).val().trim() || (a.chatState = !1, $(this).removeClass("zc"), $(this).val(
							"")), clearInterval(
							d)
					}), $(document).on("touchend", "#allCode_bg", function () {
						setTimeout(function () {
							$(".ac_wish_txt").val("").blur(), $(".ac_name_txt").blur()
						}, 300)
					}), $(document).on("touchend", "#guestBg", function () {
						setTimeout(function () {
							$("#gusetName").val("").blur()
						}, 300)
					}), $(document).on("touchend", "#wishTxt", function (b) {
						return b.stopPropagation(), $(".ac_wish_txt").val().trim() && $(".ac_name_txt").val()
							.trim() ? $(
								".sureBtn").addClass("active") : $(".sureBtn").removeClass("active"), a.type ?
							(a.outputMsg(
								"请先发送请帖"), !1) : $(this).parent().parent().hasClass("noAction") ? !1 : ("" !=
								a.send_name && $(
									".ac_name_txt").val(a.send_name), setTimeout(function () {
									$("#allCode").css({
										zIndex: 9,
										opacity: 1
									}), $("#allCode_bg").css({
										"-webkit-transform": "translateY(0)"
									})
								}, 300), navigator.userAgent.indexOf("Android") > -1 ? setTimeout(function () {
									$(".ac_wish_txt").focus()
								}, 300) : navigator.userAgent.indexOf("iPhone") > -1 && $(".ac_wish_txt").focus(),
								void 0)
					}), $(document).on("touchend", "#allCode_bg", function () {
						$(this).css({
							"-webkit-transform": "translateY(" + a.height + "px)"
						}), $("#allCode").css({
							zIndex: "-1",
							opacity: 0
						})
					}), $(document).on("focus", ".ac_name_txt", function () {
						$(this).val() || $(this).addClass("zc"), navigator.userAgent.indexOf("iPhone") > -1 &&
							navigator.userAgent
							.indexOf("iPhone OS 11") <= -1 && (d = setInterval(function () {
								document.body.scrollTop = document.body.scrollHeight
							}, 200))
					}), $(document).on("blur", ".ac_name_txt", function () {
						$(this).val().trim() || $(this).removeClass("zc"), clearInterval(d)
					}), $(document).on("touchstart", "#giftShow", function () {
						return a.type ? (a.outputMsg("请先发送请帖"), !1) : $(this).parent().hasClass("nobody") ?
							!1 : (a.sdkData({
									action: "giftShow",
									eventable_type: "Card",
									additional: {
										ip: a.ip,
										card_id: a.card_id,
										num: a.rans(32)
									}
								}), a.mzClick(), "" != a.send_name && $("#nameTxt").val(a.send_name), $(
									"#send_gift").css(
									"-webkit-transform", "translateY(0)"), $("#bgc").show(), a.mzImp(), a.animateGiftAni(),
								void 0)
					}), $(document).on("touchstart", "#bgc", function () {
						$("#send_gift").css("-webkit-transform", "translateY(100%)"), $("#bgc").hide(), a.$giftAni
							.removeClass(
								"animate"), document.activeElement.blur(), !a.is_get_confirm && a.CardRepliesV2_id &&
							a.wxsq_event(
								"CardRepliesV2", a.CardRepliesV2_id)
					}), $(document).on("focus", "#nameTxt", function () {
						"" == a.send_name && $(this).addClass("zc")
					}), $(document).on("blur", "#nameTxt", function () {
						$(this).val().trim() ? a.send_name = $(this).val() : $(this).removeClass("zc")
					}), $(document).on("touchstart", "#sendGiftBtn", function () {
						$("#send_gift").css("-webkit-transform", "translateY(100%)"), $("#bgc").hide(),
							sessionStorage.setItem(
								"current_seating", a.seating)
					}), $(document).on("touchstart", "#sendGiftBtnV2", function () {
						var c, b = $("#nameTxtV2");
						return b.val().trim() ? (a.send_name = b.val(), $("#gift_bg").css({
									"-webkit-transform": "translateY(" + a.height + "px)"
								}), b.blur(), setTimeout(function () {
									$("#gift_form").removeClass("active")
								}, 300), sessionStorage.setItem("current_seating", a.seating), c = (new Date)
								.getTime(), a.sendGift({
									payName: a.send_name,
									paySouName: a.user_name,
									payApi: a.API.sendGift,
									payGift: a.giftProperty.title,
									payParams: {
										current_time: c,
										card_gift2_id: a.giftProperty.id,
										card_id: a.card_id,
										giver_name: a.send_name,
										user_id: a.user_id,
										wishes: a.send_wish
									},
									payMoney: a.giftProperty.price,
									payCallBack: "/p/wedding/Public/hlj-m/card-pay-success/index.html"
								}), b.blur(), $("body").append(
									'<div class="loadmore-loading"><div></div><p></p></div>'), void 0) :
							(a.outputMsg("请填写姓名"), !1)
					}), $(document).on("touchstart", ".red_packets a", function (a) {
						c = a.changedTouches[0].clientY
					}), $(document).on("touchend", ".red_packets a", function (b) {
						if (b.changedTouches[0].clientY - c < 10 && b.changedTouches[0].clientY - c >= 0) {
							if (a.type) return a.outputMsg("请先发送请帖"), !1;
							if ($(this).parent().hasClass("nobody")) return !1;
							a.sdkData({
								action: "priceShow",
								eventable_type: "Card",
								additional: {
									ip: a.ip,
									card_id: a.card_id,
									num: a.rans(32)
								}
							}), "" != a.send_name && $(".red_packets_name_txt").val(a.send_name), $(
								"#red_packets_bg").removeClass(
								"hide").css({
								zIndex: "12",
								opacity: 1
							}), $("#red_packets_form").removeClass("hide").css({
								zIndex: "12",
								opacity: 1
							}), $(".money").css({
								"-webkit-animation": "money 1000ms ease-in-out 100ms forwards"
							}), a.writeCookie("giftPage_enter", !0, 1), a.$giftAni.removeClass(
								"animate")
						}
					}), $(document).on("touchstart", ".close_red_packets", function () {
						$("#red_packets_bg").addClass("hide").css({
							zIndex: "-1",
							opacity: 0
						}), $("#red_packets_form").addClass("hide").css({
							zIndex: "-1",
							opacity: 0
						}), $(".money").css({
							"-webkit-animation": "none"
						})
					}), $(document).on("touchstart", "#priceShow", function () {
						return a.type ? (a.outputMsg("请先发送请帖"), !1) : $(this).parent().hasClass("nobody") ?
							!1 : (a.sdkData({
								action: "priceShow",
								eventable_type: "Card",
								additional: {
									ip: a.ip,
									card_id: a.card_id,
									num: a.rans(32)
								}
							}), "" != a.send_name && ($(".red_packets_name_txt").val(a.send_name), $(
									".red_packets_name_txt")
								.addClass("zc")), $("#red_packets_bg").removeClass("hide").css({
								zIndex: "12",
								opacity: 1
							}), $("#red_packets_form").removeClass("hide").css({
								zIndex: "12",
								opacity: 1
							}), $(".money").css({
								"-webkit-animation": "money 1000ms ease-in-out 100ms both"
							}), void 0)
					}), $(document).on("touchstart", "#sendPriceBtnV2", function () {
						if ("请输入您的姓名" != $(".red_packets_name_txt").val() && "" != $(
								".red_packets_name_txt").val().replace(
								/[ ]/g, ""))
							if (a.send_name = $(".red_packets_name_txt").val(), "" == $(
									".red_packets_money_txt").val().replace(
									/[ ]/g, "") || "请输入礼金金额" == $(".red_packets_money_txt").val().replace(
									/[ ]/g, "")) a.outputMsg(
								"请输入礼金金额");
							else if (isNaN($(".red_packets_money_txt").val())) a.outputMsg("礼金金额输入不合法");
						else if (parseInt($(".red_packets_money_txt").val()) < 1) a.outputMsg("礼金金额不能小于1元");
						else if (parseInt($(".red_packets_money_txt").val()) > 3e3) a.outputMsg(
							"已超出微信单笔支付3000元的限额，请调整金额后再试");
						else {
							a.send_price = $(".red_packets_money_txt").val(), $("#red_packets_bg").addClass(
									"hide").css({
									zIndex: "-1",
									opacity: 0
								}), $("#red_packets_form").addClass("hide").css({
									zIndex: "-1",
									opacity: 0
								}), a.getCookie("giftPage_enter") && a.writeCookie("showGiftPage", !0, 1),
								sessionStorage.setItem(
									"current_seating", a.seating);
							var b = (new Date).getTime();
							a.sendCash({
									api: a.API.sendCash,
									callback: "/p/wedding/Public/hlj-m/card-pay-success/index.html",
									data: {
										card_id: a.card_id,
										current_time: b,
										giver_name: a.send_name,
										price: a.send_price
									},
									SouName: a.user_name
								}), a.writeCookie("giftPage_enter", "", -1), $(".red_packets_name_txt").blur(),
								$(
									".red_packets_money_txt").blur(), $("body").append(
									'<div class="loadmore-loading"><div></div><p></p></div>')
						} else a.outputMsg("请填写姓名")
					}), navigator.userAgent.indexOf("Android") > -1 && $(document).on("touchend", "img",
						function (a) {
							a.preventDefault()
						}), this.get_infinite(), a.wxsq()
			}, hideEdit = function (a) {
				a ? ($(".editIcon").addClass("nosee"), this.hideEditState = !0) : ($(".editIcon").removeClass(
						"nosee"),
					this.hideEditState = !1)
			}, otherAction = function (a) {
				this.otherState = a;
				for (var b in this.otherState) "chat_state" == b ? this.otherState[b] ? ($(".chat_dis").removeClass(
							"nosee"),
						$("#giftModule").removeClass("nosee")) : ($(".chat_dis").addClass("nosee"), $(
						"#giftModule").addClass(
						"nosee")) : "chat_entry" == b ? this.otherState[b] ? $(".c_txt ").removeClass(
						"noAction") : $(".c_txt ")
					.addClass("noAction") : "chat_gift" == b ? this.otherState[b] ? $("#giftShow").parent().removeClass(
						"nobody") : $("#giftShow").parent().addClass("nobody") : "chat_cash" == b && (this.otherState[
						b] ? $(
						"#priceShow").parent().removeClass("nobody") : $("#priceShow").parent().addClass(
						"nobody"))
			}, guestPageHide = function (a) {
				var b = this;
				b.guestState = a, this.result.page.forEach(function (a, c) {
						a.layout.layTemplate && (b.guests.no = c, b.guests.html = a)
					}), b.guestState ? (b.guestState = !1, b.delPage(b.guests.no), $("#chat_msg").show(), $(
						"#chat_msg").css(
						"opacity", 1)) : (b.addPage(b.guests.html, "guestPageHide"), $("#chat_msg").hide(), $(
						"#chat_msg").css(
						"opacity", 0), $(".mapSeat").attr("src", b.mapSrc)), "0px" == $("#lastAbout").css("top") &&
					($(
						"#lastAbout").css({
						top: b.height + "px"
					}), b.lastState = !1, b.lastDown = !0)
			}, get_infinite = function () {
				var a, b, c, d;
				for (this.infiniteArr.length > 0 ? this.infiniteArr = [] : null, a = 0; a < this.result.page.length; a++)
					for (b = 0; b < this.result.page[a].layout.elements.length; b++) this.result.page[a].layout
						.elements[b].infinite &&
						(c = {}, d = this.result.page[a].layout.elements, c.page_id = this.result.page[a].id, c
							.id = d[b].id ||
							Math.round(1e16 * Math.random()), c.infinite = d[b].infinite, c.inf_duration = d[b]
							.inf_duration ||
							"1000ms", c.inf_delay = d[b].inf_delay || "0ms", c.delay = d[b].delay || "0ms", c.duration =
							d[b].duration ||
							"1000ms", c.animate = d[b].animate, this.infiniteArr.push(c))
			}, getGifts_replies = function (a) {
				var b = this;
				$.ajax({
					url: b.localhost + b.API.gifts_and_replies + "?card_id=" + b.card_id,
					type: "get",
					success: function (c) {
						0 == c.status.RetCode && (b.gifts = c.data.gifts, b.replies = c.data.replies,
							b.user_name = c.data
							.user_name, b.user_id = c.data.user_id, a && b.chatMsg(1), $(
								"#scrollBox2") && b.giftsMarquee(),
							b.giftSelection(c.data.gifts))
					}
				})
			}, selectGift = function () {
				function m() {
					a.innerHTML =
						'<div class="gift_main" style="padding-top:16px;"><div id ="giftMore" class="gift_box" style="width:' +
						686 / d.UI_WIDTH * d.width + 'px"><ul id="g_bd_wrap" style="width:' + 750 / d.UI_WIDTH *
						d.width * Math
						.ceil(f.length / 8) + 'px;overflow:hidden">' + c +
						'</ul></div><div class="pageGift"></div><div class="gift_footer" style="overflow: hidden;padding: ' +
						28 / d.UI_WIDTH * d.width + 'px">' +
						'<div class="gift_tishi" style="overflow: hidden;float: left;width:' + 450 / d.UI_WIDTH *
						d.width +
						"px;height: " + 78 / d.UI_WIDTH * d.width + 'px;margin: 0">' +
						'</div><div id="sendGiftBtn" style="float: right;width: ' + 190 / d.UI_WIDTH * d.width +
						"px;height:" +
						80 / d.UI_WIDTH * d.width + "px;line-height:" + 80 / d.UI_WIDTH * d.width +
						'px">送礼物</div></div></div>',
						document.getElementById("other").appendChild(a), $(".g_bd").css({
							width: 750 / d.UI_WIDTH * d.width,
							padding: "0 " + 30 / d.UI_WIDTH * d.width + "px",
							"box-sizing": "border-box"
						}), d.isIphoneX() && $(".gift_main").css({
							"padding-bottom": "34px"
						}), $("#other").append(d.$giftAni)
				}

				function n() {
					var a, b, c;
					for (a = 0; a < $(".g_bd").length; a++) a > 1 && $(".g_bd").eq(a).hide();
					for (b = 0, c = ""; b < Math.ceil($(".g_bd").length);) c += "<i></i>", b++;
					$(".pageGift").append(c), $(".pageGift").find("i").eq(0).addClass("ko"), $(".pageGift i").length <=
						1 &&
						$(".pageGift").hide()
				}
				var f, g, h, i, j, k, l, a = document.createElement("div"),
					b = document.createElement("div"),
					c = "",
					d = this;
				for (a.setAttribute("id", "send_gift"), b.setAttribute("id", "bgc"), document.getElementById(
						"other").appendChild(
						b), a.style.webkitTransform = "translateY(" + d.height + "px)", a.style.bottom = 0, a.style
					.width =
					"100%", f = d.allGifts, g = "", h = "", i = 0, j = 0, k = [1, 2, 3, 4, 5, 6, 7, 9, 10, 11,
						12, 13, 14, 15,
						17, 18
					], l = 0; l < f.length; l++) 8 > i && f[l].icon2 && (g +=
					'<div class="gift-ratio"><div class="gift-ratio-wrap"><div class="gift-item" price="' +
					f[l].price +
					'" cid="' + f[l].id + '" title="' + f[l].title + '" desc="' + f[l].desc + '" src="' + f[
						l].icon + '">' +
					'<div><img src="' + f[l].icon2 + '" alt="' + f[l].title + '">' + "<p>" + f[l].title +
					"</p>" +
					'<p class="p2">￥' + f[l].price + "</p>" + "</div></div></div></div>", i++, j++, i > 7 ?
					(i = 0, h =
						'<li class="g_bd">' + g + "</li>", g = "", c += h) : k.indexOf(j) > -1 && f.length ==
					j && (h =
						'<li class="g_bd">' + g + "</li>", g = "", c += h));
				d.$giftAni = $(
					'<div class="gift-ani"><div class="gift-ani-pane"><img src="#" alt="礼物"><span>浪漫时刻有大红枣相伴</span></div></div>'
				), setTimeout(function () {
					m(), n(), d.gift_action()
				}, 300)
			}, gift_action = function () {
				function d() {
					var a = $(".gift-ratio").hammer();
					a.on("tap", function (a) {
						var c = $(this).find(".gift-item"),
							d = $(".gift-ratio").index(this);
						"jsTap" !== a.gesture.from && new Hammer.Manager($(".gift-ratio-v2").eq(d)[0]).emit(
								"tap", {
									from: "jsTap"
								}), b.giftProperty.title = c.attr("title"), b.giftProperty.id = c.attr(
								"cid"), b.giftProperty.price =
							c.attr("price"), b.giftProperty.imgUrl = c.attr("src"), b.giftProperty.desc =
							c.attr("desc"), $(
								".gift-ratio .gift-item").removeClass("active"), $(this).find(
								".gift-item").addClass("active"),
							b.giftTishi("v1", b.allGifts[d])
					})
				}
				var c, a = new Hammer(document.getElementById("giftMore")),
					b = this;
				a.on("swipe", function (a) {
					function c(a) {
						$("#g_bd_wrap").css({
							"-webkit-transform": "translate3d(" + -(750 / b.UI_WIDTH * b.width) *
								a + "px, 0px, 0px)",
							"-webkit-transition": "-webkit-transform 350ms cubic-bezier(0.42, 0, 0.58, 1.0)"
						})
					}
					a.deltaX > 0 && b.gift_touchSeat > 0 ? b.gift_touchSeat-- : a.deltaX < 0 && b.gift_touchSeat <
						Math.ceil(
							$(".g_bd").length) - 1 && b.gift_touchSeat++, $(".pageGift i").removeClass(
							"ko").eq(b.gift_touchSeat)
						.addClass("ko"), c(b.gift_touchSeat)
				}), $(".gift-ratio").hammer ? d() : c = setInterval(function () {
					$(".gift-ratio").hammer && (d(), clearInterval(c))
				}, 1e3)
			}, gift_action_v2 = function () {
				function d() {
					var a = $(".gift-ratio-v2").hammer();
					a.on("tap", function (a) {
						var c = $(this).find(".gift-item"),
							d = $(".gift-ratio-v2").index(this);
						"jsTap" !== a.gesture.from && new Hammer.Manager($(".gift-ratio").eq(d)[0]).emit(
								"tap", {
									from: "jsTap"
								}), b.giftProperty.title = c.attr("title"), b.giftProperty.id = c.attr(
								"cid"), b.giftProperty.price =
							c.attr("price"), b.giftProperty.imgUrl = c.attr("src"), b.giftProperty.desc =
							c.attr("desc"), $(
								".gift-ratio-v2 .gift-item").removeClass("active"), $(this).find(
								".gift-item").addClass(
								"active"), b.giftTishi("v2", b.allGifts[d])
					})
				}
				var c, a = new Hammer(document.getElementById("giftMoreV2")),
					b = this;
				a.on("swipe", function (a) {
					function c(a) {
						$("#g_bd_wrap_v2").css({
							"-webkit-transform": "translate3d(" + -(626 / b.UI_WIDTH * b.width) *
								a + "px, 0px, 0px)",
							"-webkit-transition": "-webkit-transform 350ms cubic-bezier(0.42, 0, 0.58, 1.0)"
						})
					}
					a.deltaX > 0 && b.gift_touchSeat > 0 ? b.gift_touchSeat-- : a.deltaX < 0 && b.gift_touchSeat <
						Math.ceil(
							$(".g_bd_v2").length) - 1 && b.gift_touchSeat++, $(".pageGiftV2 i").removeClass(
							"ko").eq(b.gift_touchSeat)
						.addClass("ko"), c(b.gift_touchSeat)
				}), $(".gift-ratio-v2").hammer ? d() : c = setInterval(function () {
					$(".gift-ratio-v2").hammer && (d(), clearInterval(c))
				}, 1e3)
			}, giftTishi = function (a, b) {

			}, chatMsg = function (a) {

			}, winMsg = function (a) {
				var g, h, i, j, k, m, c = document.createElement("div"),
					d = "",
					e = this,
					f = document.createElement("div");
				f.setAttribute("class", "winBg"), c.setAttribute("class", "winMsg"), c.style.width = 480 / this
					.UI_WIDTH *
					this.width + "px", c.style.top = 350 / this.UI_WIDTH * this.width + "px", c.style.paddingBottom =
					45 /
					this.UI_WIDTH * this.width + "px", g = 65 / this.UI_WIDTH * this.width + "px", h = 34 /
					this.UI_WIDTH *
					this.width + "px", i = 32 / this.UI_WIDTH * this.width + "px", j = 72 / this.UI_WIDTH *
					this.width + "px",
					k = 45 / this.UI_WIDTH * this.width + "px", 20 / this.UI_WIDTH * this.width + "px", m = 25 /
					this.UI_WIDTH *
					this.width + "px", d = e.getCookie("cardPrice") || e.getCookie("cardGift") ?
					'<div id="iknow" class="winMsgBtn" style="margin-top:' + k + ";font-size:" + i + ";height:" +
					j +
					";line-height:" + j + '">知道啦</div>' : e.otherState.chat_gift && e.otherState.chat_cash ?
					'<div id="' + a.id +
					'" class="winMsgBtn" style="margin-top:' + k + ";font-size:" + i + ";height:" + j +
					";line-height:" + j +
					'">' + a.col + "</div>" : '<div id="iknow" class="winMsgBtn" style="margin-top:' + k +
					";font-size:" + i +
					";height:" + j + ";line-height:" + j + '">知道啦</div>', (1 == e.send_state || 2 == e.send_state) &&
					(d = "",
						d = e.otherState.chat_gift && e.otherState.chat_cash ? '<div id="' + a.id +
						'" class="winMsgBtn" style="margin-top:' + k + ";font-size:" + i + ";height:" + j +
						";line-height:" + j +
						'">' + a.col + "</div>" : '<div id="iknow" class="winMsgBtn" style="margin-top:' + k +
						";font-size:" +
						i + ";height:" + j + ";line-height:" + j + '">知道啦</div>', "" == d && (d =
							'<div id="iknow" class="winMsgBtn" style="margin-top:' + k + ";font-size:" + i +
							";height:" + j +
							";line-height:" + j + '">知道啦</div>')), c.innerHTML =
					'<i class="closedBtn"></i><img style="margin-top:' + g + '" src="' + e.changeImgUrl(a.img) +
					'"/><span style="margin-top:' + m + ";font-size:" + h + '">' + a.disMsg + "</span>" + d,
					document.body.appendChild(
						c), document.body.appendChild(f), $("#iknow").on("touchend", function (a) {
						a.stopPropagation(), $(".winMsg").remove(), $(".winBg").remove(), $("#allCode_bg").css({
							"-webkit-transform": "translateY(" + e.height + "px)"
						}), !e.is_get_confirm && e.CardRepliesV2_id && e.wxsq_event("CardRepliesV2", e.CardRepliesV2_id)
					}), $(".closedBtn").on("touchend", function (a) {
						a.stopPropagation(), $(".winMsg").remove(), $(".winBg").remove(), $("#allCode_bg").css({
							"-webkit-transform": "translateY(" + e.height + "px)"
						}), !e.is_get_confirm && e.CardRepliesV2_id && e.wxsq_event("CardRepliesV2", e.CardRepliesV2_id)
					}), $(document).on("touchstart", "#giftPageBtn", function (a) {
						a.stopPropagation(), $(".winMsg").remove(), $(".winBg").remove(), $("#allCode_bg").css({
								"-webkit-transform": "translateY(" + e.height + "px)"
							}), e.showGiftPage = !1, $(".layout").eq(e.seating).addClass("hide").css({
								"-webkit-transform": "translateY(" + e.height + ")"
							}), $(".ele_background_" + e.seating).addClass("hide"), e.seating = e.result.page
							.length - 1, e.otherMap(
								e.srcMap), $(".layout").eq(e.seating).removeClass("hide").css({
								"-webkit-transform": "translateY(0)"
							}), $(".ele_background_" + e.seating).removeClass("hide").css({
								"-webkit-transform": "translateY(0)"
							}), $("#chat_msg").hide(), $("#chat_msg").css("opacity", 0), $("#giftPage").css({
								top: 0,
								opacity: 1
							}), e.animateGiftAni(), $("#upImg").hide()
					})
			}, outputMsg = function (a, b) {
				if ($(".msgWin").length > 0) return !1;
				var c = document.createElement("div");
				b && (c.style.width = "60%", c.style.background = "rgba(0,0,0,.6)"), c.style.zIndex = 999, c.setAttribute(
						"class", "msgWin"), c.innerHTML = "<p>" + a + "</p>", document.getElementById("other").appendChild(
						c),
					setTimeout(function () {
						b || $(".msgWin").remove()
					}, 1500)
			}, loadAnimate = function (a) {
				function h(a) {
					g.save(), g.strokeStyle = "#fca7a7", g.lineWidth = 16, g.beginPath(), g.arc(b.cx / 2, b.cy /
						2, b.cr, -
						Math.PI / 2, -Math.PI / 2 + d * a + .5, !1), g.stroke(), g.restore()
				}

				function i() {
					if (g.clearRect(0, 0, canvas.width, canvas.height), h(c), 100 > c) c += .2;
					else if (a) return $("#canvas").remove(), a(), !1;
					setTimeout(i, b.speed)
				}
				var e, f, g, b = {},
					c = 1,
					d = 2 * Math.PI / 100;
				b.cx = 200, b.cy = 200, b.cr = 60, b.speed = 1, e = document.createElement("div"), f = document
					.createElement(
						"canvas"), g = f.getContext("2d"), e.setAttribute("id", "canvasBox"), e.style.width =
					100 / this.UI_WIDTH *
					this.width + "px", e.style.height = 100 / this.UI_WIDTH * this.width + "px", f.style.position =
					"absolute", f.style.margin = "auto", f.style.top = "0", f.style.right = "0", f.style.bottom =
					"0", f.style
					.left = "0", f.style.zIndex = "9", f.setAttribute("width", b.cx), f.setAttribute("height",
						b.cy), f.setAttribute(
						"id", "canvas"), document.body.appendChild(e), document.getElementById("canvasBox").appendChild(
						f), i()
			}, allImg = function (a) {
				var c, d, e, b = [this.changeImgUrl("//qnm.hunliji.com/o_1bid6p3ojgs8uptnu919pd5os7.png"), this
					.changeImgUrl(
						"//qnm.hunliji.com/o_1bke091mk1p7jimp192lvqrkl87.png")
				];
				for (c = 0; c < a.page.length; c++)
					for (d = 0; d < a.page[c].layout.elements.length; d++) a.page[c].layout.elements[d].img &&
						(e = a.page[c]
							.layout.elements[d].img, b.push(e));
				this.loading(b, function () {})
			}, loading = function (a, b) {
				var d, e, c = 0;
				for (d = 0; d < a.length; d++) a[d] || a.splice(d, 1), e = new Image, e.onload = function () {
					c++, c >= a.length && b && b()
				}, e.src = this.changeImgUrl(a[d])
			}, rov_infinite = function (a) {
				var b, c, d, e, f;
				for (this.timeAni ? clearTimeout(this.timeAni) : null, b = this, c = b.infiniteArr, d = c.length,
					e = b.seating,
					a > 0 ? e++ : e--, f = 0; d > f; f++) c[f].page_id == this.result.page[this.seating].id &&
					$(".ani_" + b.result
						.page[b.seating].id + "_" + c[f].id).hasClass("infinite") && ($(".ani_" + b.result.page[
							b.seating].id +
						"_" + c[f].id).removeClass(c[f].infinite), $(".ani_" + b.result.page[b.seating].id +
						"_" + c[f].id).removeClass(
						"infinite"), $(".ani_" + b.result.page[b.seating].id + "_" + c[f].id).css({
						"-webkit-animation-delay": c[f].delay
					}), $(".ani_" + b.result.page[b.seating].id + "_" + c[f].id).css({
						"-webkit-animation-duration": c[f].duration
					}), $(".ani_" + b.result.page[b.seating].id + "_" + c[f].id).addClass(c[f].animate)), f >=
					d - 1 && (b.timeAni =
						setTimeout(function () {
							b.add_infinite()
						}, 1600))
			}, add_infinite = function () {
				var e, a = this,
					b = this.infiniteArr,
					c = b.length;
				for ($(".animated"), a.timeAni ? clearTimeout(a.timeAni) : null, e = 0; c > e; e++) a.result.page[
						a.seating]
					.id == b[e].page_id && void 0 != b[e].page_id && ($(".ani_" + a.result.page[a.seating].id +
							"_" + b[e].id)
						.removeClass(b[e].animate), $(".ani_" + a.result.page[a.seating].id + "_" + b[e].id).addClass(
							b[e].infinite),
						$(".ani_" + a.result.page[a.seating].id + "_" + b[e].id).addClass("infinite"), $(
							".ani_" + a.result.page[
								a.seating].id + "_" + b[e].id).css({
							"-webkit-animation-duration": b[e].inf_duration
						}), $(".ani_" + a.result.page[a.seating].id + "_" + b[e].id).css({
							"-webkit-animation-delay": b[e].inf_delay
						}))
			}, addStyle = function (a, b) {
				var f, g, c = "",
					d = "linear";
				switch (a.infinite) {
					case "animate_leftTop":
						c = "leftTop_rotate", d = "ease-in-out";
						break;
					case "animate_leftBottom":
						c = "leftBottom_rotate", d = "ease-in-out";
						break;
					case "animate_rightTop":
						c = "rightTop_rotate", d = "ease-in-out";
						break;
					case "animate_rightBottom":
						c = "rightBottom_rotate", d = "ease-in-out";
						break;
					case "rotate":
						c = "rotate";
						break;
					case "bounce":
						c = "bounce";
						break;
					case "flash":
						c = "flash";
						break;
					case "pulse":
						c = "pulse";
						break;
					case "rubberBand":
						c = "rubberBand";
						break;
					case "shake":
						c = "shake";
						break;
					case "headShake":
						c = "headShake";
						break;
					case "swing":
						c = "swing";
						break;
					case "tada":
						c = "tada";
						break;
					case "wobble":
						c = "wobble";
						break;
					case "jello":
						c = "jello";
						break;
					case "bounceIn":
						c = "bounceIn";
						break;
					case "bounceInDown":
						c = "bounceInDown";
						break;
					case "bounceInLeft":
						c = "bounceInLeft";
						break;
					case "bounceInRight":
						c = "bounceInRight";
						break;
					case "bounceInUp":
						c = "bounceInUp";
						break;
					case "bounceOut":
						c = "bounceOut";
						break;
					case "bounceOutDown":
						c = "bounceOutDown";
						break;
					case "bounceOutLeft":
						c = "bounceOutLeft";
						break;
					case "bounceOutRight":
						c = "bounceOutRight";
						break;
					case "bounceOutUp":
						c = "bounceOutUp";
						break;
					case "fadeIn":
						c = "fadeIn";
						break;
					case "fadeInDown":
						c = "fadeInDown";
						break;
					case "fadeInDownBig":
						c = "fadeInDownBig";
						break;
					case "fadeInLeft":
						c = "fadeInLeft";
						break;
					case "fadeInLeftBig":
						c = "fadeInLeftBig";
						break;
					case "fadeInRighting":
						c = "fadeInRight";
						break;
					case "fadeInRightBig":
						c = "fadeInRightBig";
						break;
					case "fadeInUp":
						c = "fadeInUp";
						break;
					case "fadeInUpBig":
						c = "fadeInUpBig";
						break;
					case "fadeOut":
						c = "fadeOut";
						break;
					case "fadeOutDown":
						c = "fadeOutDown";
						break;
					case "fadeOutDownBig":
						c = "fadeOutDownBig";
						break;
					case "fadeOutLeft":
						c = "fadeOutLeft";
						break;
					case "fadeOutLeftBig":
						c = "fadeOutLeftBig";
						break;
					case "fadeOutRight":
						c = "fadeOutRight";
						break;
					case "fadeOutRightBig":
						c = "fadeOutRightBig";
						break;
					case "fadeOutUp":
						c = "fadeOutUp";
						break;
					case "fadeOutUpBig":
						c = "fadeOutUpBig";
						break;
					case "flipInX":
						c = "flipInX";
						break;
					case "flipInY":
						c = "flipInY";
						break;
					case "flipOutX":
						c = "flipOutX";
						break;
					case "flipOutY":
						c = "flipOutY";
						break;
					case "lightSpeedIn":
						c = "lightSpeedIn";
						break;
					case "lightSpeedOut":
						c = "lightSpeedOut";
						break;
					case "rotateIn":
						c = "rotateIn";
						break;
					case "rotateInDownLeft":
						c = "rotateInDownLeft";
						break;
					case "rotateInDownRight":
						c = "rotateInDownRight";
						break;
					case "rotateInUpLeft":
						c = "rotateInUpLeft";
						break;
					case "rotateInUpRight":
						c = "rotateInUpRight";
						break;
					case "hinge":
						c = "hinge";
						break;
					case "jackInTheBox":
						c = "jackInTheBox";
						break;
					case "rollIn":
						c = "rollIn";
						break;
					case "rollOut":
						c = "rollOut";
						break;
					case "zoomIn":
						c = "zoomIn";
						break;
					case "zoomInDown":
						c = "zoomInDown";
						break;
					case "zoomInLeft":
						c = "zoomInLeft";
						break;
					case "zoomInRight":
						c = "zoomInRight";
						break;
					case "zoomInUp":
						c = "zoomInUp";
						break;
					case "zoomOut":
						c = "zoomOut";
						break;
					case "zoomOutDown":
						c = "zoomOutDown";
						break;
					case "zoomOutLeft":
						c = "zoomOutLeft";
						break;
					case "zoomOutRight":
						c = "zoomOutRight";
						break;
					case "zoomOutUp":
						c = "zoomOutUp";
						break;
					case "slideInDown":
						c = "slideInDown";
						break;
					case "slideInLeft":
						c = "slideInLeft";
						break;
					case "slideInRight":
						c = "slideInRight";
						break;
					case "slideInUp":
						c = "slideInUp";
						break;
					case "slideOutDown":
						c = "slideOutDown";
						break;
					case "slideOutLeft":
						c = "slideOutLeft";
						break;
					case "slideOutRight":
						c = "slideOutRight";
						break;
					case "slideOutUp":
						c = "slideOutUp";
						break;
					case "fadeInNormal":
						c = "fadeInNormal", a.animationDuration[b.indexOf("fadeInNormal")] = "1000";
						break;
					case "pullDown":
						c = "pullDown", a.animationDuration[b.indexOf("pullDown")] = "1000"
				}
				if ((!a.animationDuration || a.animationDuration.indexOf("0") > -1 || a.animationDuration.indexOf(
							"0ms") >
						-1 || a.animationDuration.indexOf("ms") > -1 || a.animationDuration.indexOf("") > -1) &&
					(b.indexOf(
							"fadeInNormal") > -1 ? a.animationDuration[b.indexOf("fadeInNormal")] = "1000ms" :
						b.indexOf(
							"slideLeft") > -1 ? a.animationDuration[b.indexOf("slideLeft")] = "1000ms" : b.indexOf(
							"bounceInRight") > -1 ? a.animationDuration[b.indexOf("bounceInRight")] = "1000ms" :
						b.indexOf(
							"stretchLeft") > -1 ? a.animationDuration[b.indexOf("stretchLeft")] = "1000ms" : b.indexOf(
							"fadeIn") >
						-1 ? a.animationDuration[b.indexOf("fadeIn")] = "1000ms" : b.indexOf("bounceInLeft") >
						-1 ? a.animationDuration[
							b.indexOf("bounceInLeft")] = "1000ms" : b.indexOf("stretchRight") > -1 && (a.animationDuration[
							b.indexOf(
								"stretchRight")] = "1000ms")), a.animationDuration.indexOf("0") > -1 ? a.animationDuration[
						a.animationDuration
						.indexOf("0")] = "1000ms" : a.animationDuration.indexOf("0ms") > -1 ? a.animationDuration[
						a.animationDuration
						.indexOf("0ms")] = "1000ms" : a.animationDuration.indexOf("ms") > -1 ? a.animationDuration[
						a.animationDuration
						.indexOf("ms")] = "1000ms" : a.animationDuration.indexOf("") > -1 && (a.animationDuration[
						a.animationDuration
						.indexOf("")] = "1000ms"), "" != c && (c = "," + c + " " + a.inf_duration + " " + d +
						" " + a.inf_delay +
						" forwards infinite"), f = [], Array.isArray(b)) {
					for (g = 0; g < b.length; g++) "ms" == a.animationDelay[g] ? a.animationDelay[g] = "0ms" :
						a.animationDelay[
							g] && a.animationDelay[g].indexOf("ms") <= "-1" && (a.animationDelay[g] = a.animationDelay[
							g] + "ms"),
						"ms" == a.animationDuration[g] ? a.animationDuration[g] = "0ms" : a.animationDuration[g] &&
						a.animationDuration[
							g].indexOf("ms") <= "-1" && (a.animationDuration[g] = a.animationDuration[g] + "ms"),
						0 == g ? f.push(
							b[g] + " " + a.animationDuration[g] + " ease-in-out " + a.animationDelay[g] +
							" both 1" + c) : f.push(
							b[g] + " " + a.animationDuration[g] + " ease-in-out " + a.animationDelay[g] +
							" forwards 1" + c);
					return ".ani_" + a.page_id + "_" + a.id + " {-webkit-animation:" + f.join(",") + "; }"
				}
				return ".ani_" + a.page_id + "_" + a.id + " {-webkit-animation:" + b + " " + a.animationDuration +
					" ease-in-out " + a.animationDelay + " both 1" + c + "; }"
			}, createPage = function (a) {
				var b = this,
					c = b.UI_WIDTH,
					d = b.UI_HEIGHT,
					e = b.width,
					f = b.height;
				return this.allPage = a.map(function (a, g) {
					var i, j, k, l, h = "";
					return a.layout.layTemplate ? b.guestsPage(a, g) : null, a.layout.elements.forEach(
							function (i, j) {
								var k, l, m, n, o, p, q, r, s, t, v, w, x;
								i.video_path ? b.videoNext = g - 1 : null, k = Number(i.y / c) * e, l =
									"", 1 == i.is_scale &&
									(k = Number(i.y / d) * f), i.mask && (l = "-webkit-mask-image:url(" +
										b.changeImgUrl(i.mask.img) +
										");-webkit-mask-size:100% 100%;"), m = {
										width: Number(i.width / c) * e + "px",
										height: Number(i.height / c) * e + "px",
										left: Number(i.x / c) * e + "px",
										top: k + "px",
										zIndex: i.z_order,
										animationDelay: i.delay || 0,
										animationDuration: i.duration || 0,
										type: i.type || null,
										isdown: 0 == i.is_down ? !1 : !0,
										id: i.id || Math.round(1e16 * Math.random()),
										page_id: a.id,
										text_type: i.text_type || null,
										infinite: i.infinite || null,
										mask: l,
										inf_delay: i.inf_delay || 0,
										inf_duration: i.inf_duration || 0,
										edit_btn_position: i.edit_btn_position || null
									}, m.animationDelay = m.animationDelay, m.animationDuration = m.animationDuration,
									"ms" == m.inf_delay ?
									m.inf_delay = "0ms" : "" != m.inf_delay && m.inf_delay.indexOf("ms") <=
									"-1" && (m.inf_delay =
										m.inf_delay + "ms"), "ms" == m.inf_duration ? m.inf_duration =
									"0ms" : "" != m.inf_duration &&
									m.inf_duration.indexOf("ms") <= "-1" && (m.inf_duration = m.inf_duration +
										"ms"), n = b.UI_HEIGHT -
									i.y - i.height, n = Number(n / b.UI_WIDTH) * e + "px", o = m.isdown ?
									"bottom:" + n : "top:" +
									m.top, p = "position:fixed;width:" + m.width + ";height:" + m.height +
									";left:" + m.left +
									";" + o + ";z-index:" + m.zIndex, b.type && 1 == b.getParams("edit") &&
									b.positionIcon(m, o,
										i, j, a.layout.elements.length, g), q = "", r = "", i.height >=
									b.UI_HEIGHT && (Number(i.height /
											b.UI_WIDTH) * e > f && (f = Number(i.height / b.UI_WIDTH) *
											e), r = Math.round(i.width /
											i.height * b.height) - b.width, r /= 2, q =
										"-webkit-transform:translateX(-" + r +
										"px);width:auto;height:" + f + "px"), s = i.animate, t = "", m.infinite &&
									(t = "inf=" + m.infinite),
									b.type ? i.original_path && "" !== i.original_path ? (i.video_path ?
										i.video_path : i.original_path,
										b.videoHave = !0, h +=
										'<div class="videoMH nosee"></div><div id="video" class="animated ' +
										s + " ani_" + m.page_id + "_" + m.id + '" videoW="' + i.video_width +
										'" videoP="' + i.video_path +
										'" videoH="' + i.video_height + '" style="width:' + b.width +
										"px;height:" + b.height +
										'px;position:relative;overflow:hidden;">                <video id="vid" class="IIV"                x-webkit-airplay="true"                 webkit-playsinline                playsinline                preload="true"                height="100%"                loop="true"                 x5-video-player-type="h5"                 x5-video-player-fullscreen="true"                 style="min-height:100%;min-width:100%;margin-left:-' +
										(i.video_width / i.video_height * b.height - b.width) / 2 +
										'px;"                 poster="' +
										i.original_path + "?vframe/jpg/offset/1|imageView2/1/w/" + i.video_width +
										"/h/" + i.video_height +
										'"                 src="' + i.original_path +
										'"></video>              </div>') : (v = "",
										w = "", x = "", i.width >= 750 && i.height >= 1220 && (v = b.height +
											"px", w = "auto", x =
											(b.UI_WIDTH / b.UI_HEIGHT * b.height - b.width) / 2, 0 >= x &&
											(w = "100%")), "map" == m.type &&
										(v = "100%"), i.img || (i.img = ""), b.aniStyle += b.addStyle(m,
											s), h += "<div " + t +
										' class="animated ani_' + m.page_id + "_" + m.id + '" style="' +
										p +
										'">                    ' + ("map" == m.type ?
											'<img class="dwIcon" src="' + b.changeImgUrl(
												"http://qnm.hunliji.com/o_1blaaggv063m34kok21s8k1irnc.png"
											) +
											'"><div class="navigation" style="position: absolute; width: ' +
											100 / b.UI_WIDTH * b.width +
											"px; height: " + 56 / b.UI_WIDTH * b.width +
											"px; right: 0; top:0; background: #7c7c7c; opacity: 0.6; color: white;font-size: " +
											28 /
											b.UI_WIDTH * b.width + "px;line-height: " + 56 / b.UI_WIDTH *
											b.width +
											"px; text-align: center; border-bottom-left-radius: " + 5 /
											b.UI_WIDTH * b.width +
											'px;">导航</div>' : "") + '                    <img style="' +
										m.mask + ";width:" + w +
										";height:" + v + ";margin-left:-" + x + 'px" class="pageImg ' +
										("map" == m.type ?
											"mapSeat" : "") + '" type="' + m.type + '" page_id="' + m.page_id +
										'" id="' + m.id +
										'" style="' + q + '" src="' + b.changeImgUrl(i.img) +
										'" />                </div>') : i.video_path &&
									"" != i.video_path ? (b.videoHave = !0, h +=
										'<div class="videoMH nosee"></div><div id="video" class="animated ' +
										s + " ani_" + m.page_id +
										"_" + m.id + '" videoW="' + i.video_width + '" videoP="' + i.video_path +
										'" videoH="' + i.video_height +
										'" style="width:' + b.width + "px;height:" + b.height +
										'px;position:relative;overflow:hidden;">                <video id="vid" class="IIV"                x-webkit-airplay="true"                 webkit-playsinline                playsinline                preload="true"                loop="true"                 x5-video-player-type="h5"                 x5-video-player-fullscreen="true"                 style="min-height:100%;min-width:100%;margin-left:-' +
										(i.video_width / i.video_height * b.height - b.width) / 2 +
										'px;"                 poster="' +
										i.video_path + "?vframe/jpg/offset/1|imageView2/1/w/" + i.video_width +
										"/h/" + i.video_height +
										'"                 src="' + i.video_path +
										'"></video>              </div>') : "" == i.video_path &&
									void 0 != i.video_path || null === i.video_path ? h +=
									'<div style="position:fixed;top:0;bottom:0;left:0;right:0;background:#f2f3f6;z-index:9">                        <img class="noVideo" style="position:fixed;top:0;bottom:0;left:0;right:0; width:35%;margin:auto;" src="' +
									b.changeImgUrl(
										"//qnm.hunliji.com/o_1bk442tda19uemst1jia1db31d007.png") +
									'" />                    </div>' : (v = "", w = "", x = "", i.height >=
										1220 && (v = b.height +
											"px", w = "auto", x = (b.UI_WIDTH / b.UI_HEIGHT * b.height -
												b.width) / 2, 0 >= x && (w =
												"100%")), "map" == m.type && (v = "100%"), i.img || (i.img =
											""), b.aniStyle += b.addStyle(
											m, s), h += "<div " + t + ' class="animated ani_' + m.page_id +
										"_" + m.id + '" style="' +
										p + '">                    ' + ("map" == m.type ?
											'<img class="dwIcon" src="' + b.changeImgUrl(
												"http://qnm.hunliji.com/o_1blaaggv063m34kok21s8k1irnc.png"
											) +
											'"><div class="navigation" style="position: absolute; width: ' +
											100 / b.UI_WIDTH * b.width +
											"px; height: " + 56 / b.UI_WIDTH * b.width +
											"px; right: 0; top:0; background: #7c7c7c; opacity: 0.6; color: white;font-size: " +
											28 /
											b.UI_WIDTH * b.width + "px;line-height: " + 56 / b.UI_WIDTH *
											b.width +
											"px; text-align: center; border-bottom-left-radius: " + 5 /
											b.UI_WIDTH * b.width +
											'px;">导航</div>' : "") + '                    <img style="' +
										m.mask + ";width:" + w +
										";height:" + v + ";margin-left:-" + x + 'px" class="pageImg ' +
										("map" == m.type ?
											"mapSeat" : "") + '" type="' + m.type + '" page_id="' + m.page_id +
										'" id="' + m.id +
										'" style="' + q + '" src="' + b.changeImgUrl(i.img) +
										'" />                </div>')
							}), i = b.height, j = 0, g <= b.seating && (i = 0, j = 1), k = "", l = "",
						a.layout.layTemplate &&
						(k = "guestPage"), b.type ? '<div class="ebg ele_background_' + g +
						'" style="height:100%;position:fixed;top:0;left:0;z-index:0;-webkit-transition-duration:600ms;opacity:' +
						j +
						'"><img style="height:100%;width:auto;margin-left:' + ((window.innerWidth - 1080*window.innerHeight/1620)/2)  + 'px" src="' + b.changeImgUrl(
							a.layout
							.background) + '"/></div><div id="' + k + '" page_id="' + a.id +
						'" style="height:' + b.height +
						'px" class="layout ' + (b.seating == g ? " " : "hide ") + " " + k + '">' + l +
						h + "</div>" :
						'<div class="ebg ele_background_' + g +
						'" style="height:100%;position:fixed;top:0;left:0;z-index:0;-webkit-transition-duration:600ms;-webkit-transform:translateY(' +
						i + 'px);"><img style="height:100%;width:auto;margin-left:' + ((window.innerWidth - 1080*window.innerHeight/1620)/2)  + 'px" src="' + b.changeImgUrl(
							a.layout.background) + '"/></div><div id="' + k + '" page_id="' + a.id +
						'" style="height:' + b.height +
						'px" class="layout ' + (b.seating == g ? " " : "hide ") + " " + k + '">' + l +
						h + "</div>"
				})
			}, guestsPage = function (a, b) {

			}, otherMap = function (a) {
				var b = this;
				var c = {
					"status": {
						"RetCode": 0,
						"msg": "success"
					},
					"data": {
						"map_image": "http:\/\/qnm.hunliji.com\/FknVxgeBEBhAU2TIoe7Ju0-LOMGn"
					},
					"current_time": 1532756212
				}
				b.mapSrc = c.data.map_image ? b.result.cardInfo.map_image ? b.result.cardInfo.map_image : c.data
					.map_image ?
					c.data.map_image : a : b.result.cardInfo.map_image ? b.result.cardInfo.map_image : a, $(
						".mapSeat").attr("src", b.mapSrc)
			}, guestAction = function () {
				var h, k, a = document.createElement("div"),
					b = this,
					c = 1,
					d = document.createElement("div"),
					e = document.createElement("div"),
					f = null,
					g = document.body.scrollTop;
				e.style.display = "none", e.style.zIndex = "999", e.style.position = "relative", e.style.height =
					this.height +
					"px", d.style.height = this.height + "px", d.setAttribute("id", "guestBg"), a.setAttribute(
						"id",
						"gusetBox"), h = 30 / b.UI_WIDTH * b.width, 140 / b.UI_WIDTH * b.width, 64 / b.UI_WIDTH *
					b.width, k =
					'<div id="gusetCode" style="padding:0 ' + h + "px 0 " + h +
					'px; ">                              <div class="guest-reply"><i style="font-weight:700">您的姓名</i><input id="gusetName" class="guset_name" style="width:70%;margin-left:' +
					h + "px;padding:" + h + "px 0 " + h +
					'px 0;" type="text" placeholder="请输入您的姓名..."/></div>                              <div class="guset_set" style="padding:' +
					h + "px 0 " + h +
					'px 0;">                                <div style="font-weight:700">是否赴宴</div><div class="guset_icon" style="-webkit-box-flex:18"><p state=0><span class="sk">赴宴</span></p><p state=1><span>待定</span></p><p state=2><span>有事</span></p></div></div></div>',
					a.innerHTML = k +
					"<div class='send_box'>              <div class='guest_num' style='height:" + Number(
						100 / this.UI_WIDTH * this.width) + "px;line-height:" + Number(100 / this.UI_WIDTH *
						this.width) +
					"px'><div class='numpre'>赴宴人数</div><div><p class='disNum_col' style='width:" + Number(192 /
						this.UI_WIDTH *
						this.width) + "px;line-height:" + Number(64 / this.UI_WIDTH * this.width) +
					"px;height:" + Number(64 /
						this.UI_WIDTH * this.width) +
					"px'><i class='gnl addNum'>-</i><i class='disNum'>1</i><i class='gnr addNum ak'>+</i></p></div></div><div id='sendNum' style='line-height:" +
					Number(100 / this.UI_WIDTH * this.width) + "px'>确定</div>            </div>", e.appendChild(
						a), e.appendChild(
						d), document.getElementById("guestPage") && document.getElementById("guestPage").appendChild(
						e), b.isIphoneX() &&
					$("#gusetBox").css({
						"padding-bottom": "34px",
						background: "#fff"
					}), $("#gusetBox").css({
						bottom: "0"
					}), b.otherState.chat_gift && b.otherState.chat_cash ? ($("#toGiftBtn").show(), $(
						"#guestBtn").css({
						margin: "0",
						width: 305 / b.UI_WIDTH * b.width + "px"
					})) : ($("#toGiftBtn").hide(), $("#guestBtn").css({
						margin: "0 auto",
						width: 500 / b.UI_WIDTH * b.width + "px"
					})), $(document).on("touchstart", ".guset_icon p", function () {
						var a = $(".guset_icon p").index(this);
						b.send_state = $(this).attr("state"), $(".guset_icon p span").removeClass("sk"), $(
								this).find("span")
							.addClass("sk"), 1 == a || 2 == a ? ($(".guest_num div").css({
								opacity: "0"
							}), $(".guest_num .numpre").css({
								opacity: "0"
							})) : ($(".guest_num div").css({
								opacity: "1"
							}), $(".guest_num .numpre").css({
								opacity: "1"
							}))
					}), $(document).on("touchstart", "#guestBg", function () {
						var a = $(this);
						$("#gusetBox").css({
								bottom: "-200px"
							}), a.hide(), $("#gusetName").blur(), document.body.scrollTop = g,
							clearInterval(f), setTimeout(
								function () {
									e.style.display = "none", $("#guestPage").find(".animated").show(), $(
										"#map").show(), $(
										"#updownIcon").show()
								}, 600)
					}), $("#toGiftBtn").on("touchend", function () {
						return b.type ? b.seating == b.result.page.length - 1 ? (b.outputMsg("请先发送请帖"), !1) :
							!1 : (b.showGiftPage = !
								1, $("#giftPage").css({
									top: 0,
									opacity: 1
								}), b.animateGiftAni(), $("#upImg").hide(), void 0)
					}), $("#guestBtn").on("touchend", function () {
						return b.type ? b.seating == b.result.page.length - 1 ? (b.outputMsg("请先发送请帖"), !1) :
							!1 : ($(
									"#updownIcon").hide(), "" != b.send_name && $("#gusetName").val(b.send_name),
								e.style.display =
								"block", setTimeout(function () {
									$("#guestBg").show(), $("#gusetBox").css({
										bottom: 0
									})
								}), $(".disNum_col").css({
									left: $(".numpre").width() + "px"
								}), navigator.userAgent.indexOf("Android") > -1 ? setTimeout(function () {
									$("#gusetName").focus()
								}, 300) : navigator.userAgent.indexOf("iPhone") > -1 && ($("#gusetName").focus(),
									navigator.userAgent
									.indexOf("iPhone OS 11") <= -1 && (f = setInterval(function () {
										document.body.scrollTop = document.body.scrollHeight
									}, 200))), navigator.userAgent.indexOf("iPhone OS 11") <= -1 && (
									document.querySelector(
										"#gusetBox").scrollIntoView(!1), document.querySelector(".send_box")
									.scrollIntoView(!1),
									document.querySelector("#gusetName").scrollIntoView(!1)), void 0)
					}), $(document).on("touchend", "#gusetName", function () {
						navigator.userAgent.indexOf("iPhone OS 11") <= -1 && (document.querySelector(
								"#gusetBox").scrollIntoView(!
								1), document.querySelector(".send_box").scrollIntoView(!1), document.querySelector(
								"#gusetName")
							.scrollIntoView(!1))
					}), $("#sendNum").on("touchstart", function () {
						return b.type ? (b.outputMsg("请先发送请帖"), !1) : ("" != $("#gusetName").val() ? (b.send_name =
							$(
								"#gusetName").val(), $("#gusetBox").css({
								bottom: "-200px"
							}), $("#guestBg").hide(), setTimeout(function () {
								e.style.display = "none", $("#guestPage").find(".animated").show(),
									$("#map").show(), b.fy = !
									0, b.ajax_reply({
										card_id: b.card_id,
										count: 1 == b.send_state || 2 == b.send_state ? 0 : c,
										name: b.send_name,
										state: b.send_state
									}, null, !0), $("#gusetName").blur(), $("#updownIcon").show()
							}, 600), document.body.scrollTop = g, clearInterval(f)) : b.outputMsg(
							"请填写您的姓名"), void 0)
					}), $(document).on("touchstart", ".gnl", function () {
						$(".addNum").index(this), c > 1 && (c--, 1 == c ? $(".addNum").eq(0).removeClass(
							"ak") : null), $(
							".disNum").text(c)
					}), $(document).on("touchstart", ".gnr", function () {
						$(".addNum").index(this), c++, $(".addNum").eq(0).addClass("ak"), $(".disNum").text(
							c)
					})
			}, musicStatePause = function () {
				return this.musicStatePause
			}, changeMusic = function (a) {
				var c, d, e, f, g, b = this;
				return document.getElementById("playMusic").setAttribute("src", a), "false" == this.musicStatePause &&
					document.getElementById("playMusic").play(), null == a && $("#musicBtn").length > 0 ? ($(
							"#musicBtn").remove(), !
						1) : (0 == $("#musicBtn").length && (c = document.createElement("div"), d = document.createElement(
							"img"), e = b.musicOpen, f = b.musicClose, d.setAttribute("src", "true" != b.musicStatePause ?
							e :
							f), c.setAttribute("id", "musicBtn"), c.appendChild(d), c.style.width = 72 / b.UI_WIDTH *
						b.width +
						"px", c.style.top = 32 / b.UI_WIDTH * b.width + "px", c.style.right = 32 / b.UI_WIDTH *
						b.width +
						"px", c.style.marginTop = "0px", document.getElementById("other").appendChild(c), g =
						document.getElementById(
							"playMusic"), g.addEventListener("timeupdate", function () {
							"false" == b.musicStatePause && $("#musicBtn").addClass("rotate")
						})), void 0)
			}, musicPause = function (a) {
				var b = this;
				a ? (this.musicStatePause = !0, this.writeCookie("musicStatePause", "true", 360), document.getElementById(
						"playMusic").pause(), $("#musicBtn").removeClass("rotate"), $("#musicBtn img").attr(
						"src", b.musicClose)) :
					(this.musicStatePause = !1, this.writeCookie("musicStatePause", "false", 360), document.getElementById(
						"playMusic").play(), $("#musicBtn").addClass("rotate"), $("#musicBtn img").attr(
						"src", b.musicClose))
			}, changeVideo = function (a, b, c) {
				var e, f, d = this;
				b / c >= d.width / d.height ? (e = d.height * (b / c), $("#vid").css({
					"margin-left": "-" + (e - d.width) / 2 + "px",
					"margin-top": 0,
					"margin-bottom": 0,
					"margin-bottom": "-" + (e - d.width) / 2 + "px"
				})) : (f = d.width * (c / b), $("#vid").css({
					"margin-top": "-" + (f - d.height) / 2 + "px",
					"margin-left": 0,
					"margin-right": 0,
					"margin-bottom": "-" + (f - d.height) / 2 + "px"
				})), $("#vid").attr("src", a), $("#vid").attr("poster", a +
					"?vframe/jpg/offset/1|imageView2/1/w/" + d.width +
					"/h/" + d.width), document.getElementById("vid") && (document.getElementById("vid").muted =
					"muted",
					document.getElementById("vid").play()), d.result.page.forEach(function (d) {
					d.layout.elements.forEach(function (d) {
						d.video_path && (d.video_path = a, d.original_path = a, d.video_width =
							b, d.video_height = c)
					})
				})
			}, exchangePage = function (a, b) {
				var c = this.result.page[a],
					d = this.result.page[b];
				this.result.page[a] = d, this.result.page[b] = c, this.seatState = !0, this.seating == a ? (
					this.seating =
					b, b == this.result.page.length - 1 && (this.sortS = a)) : this.seating == b && (this.seating =
					a, this
					.exPage = a + 1)
			}, editIconState = function (a) {
				var e, f, b = this,
					c = $(".editIcon"),
					d = $(".edit_icon_pop_container");
				if (!b.type && !b.getParams("edit")) return !1;
				if (b.editState = a, b.writeCookie("editState", a, 360), a) {
					for (e = 0; e < c.length; e++) c.eq(e).attr("page_id") == b.result.page[b.seating].id && c.eq(
						e).removeClass(
						"hide");
					f = 0, f = 0 === d.length % 2 ? d.length / 2 - 1 : Math.floor(d.length / 2), "true" ===
						localStorage.getItem(
							"edit_icon_pop_tip") ? d.eq(f).addClass("hide") : d.eq(f).attr("page_id") == b.result
						.page[b.seating]
						.id ? setTimeout(function () {
							d.eq(f).attr("page_id") == b.result.page[b.seating].id ? (d.eq(f).removeClass(
								"hide"), d.eq(f).find(
								".edit_icon_poptip").addClass("pop_tip_zoom")) : d.eq(f).addClass(
								"hide")
						}, 3e3) : d.eq(f).addClass("hide")
				} else c.removeClass("hide"), c.addClass("hide"), d.removeClass("hide").addClass("hide")
			}, addPage = function (a, b) {
				var e, f, c = this,
					d = !1;
				if (this.result.page.forEach(function (a, b) {
						a.layout.layTemplate && (d = !0, c.result.page.splice(b, 1))
					}), c.result.page.push(a), !this.guestState && b ? (d ? c.result.page.push(c.guests.html) :
						null, c.guestState = !
						0, c.seating = c.result.page.length - 1) : this.guestState ? (c.result.page.push(c.guests
							.html), c.seating =
						c.result.page.length - 2) : c.seating = c.result.page.length - 1, c.get_infinite(),
					this.seatState && (
						c.seatState = !1), $("#all-page").empty().append(c.createPage(c.result.page)), c.addStyleNode(),
					c.editState)
					for (e = $(".editIcon"), e.addClass("hide"), f = 0; f < e.length; f++) e.eq(f).attr(
							"page_id") == c.result
						.page[c.seating].id && e.eq(f).removeClass("hide")
			}, editCard_app = function (a, b) {
				if ("a" == a) navigator.userAgent.indexOf("Android") > -1 ? window.messageHandlers.onEditBasicInfo(
						JSON.stringify(
							b)) : navigator.userAgent.indexOf("iPhone") > -1 && window.webkit.messageHandlers.onEditBasicInfo
					.postMessage(
						b);
				else if (navigator.userAgent.indexOf("Android") > -1 ? window.messageHandlers.onEditPageHole(
						JSON.stringify(
							b)) : navigator.userAgent.indexOf("iPhone") > -1 && window.webkit.messageHandlers.onEditPageHole
					.postMessage(
						b), "image" == b.type) {
					localStorage.setItem("edit_icon_pop_tip", "true");
					var c = $(".edit_icon_pop_container");
					setTimeout(function () {
						c.addClass("hide")
					}, 100)
				}
			}, editPageHoles = function (a) {
				var d, b = $(".pageImg"),
					c = b.length;
				for (d = 0; c > d; d++) a.forEach(function (a) {
					var e = b.eq(d);
					e.attr("page_id") == a.page_id && e.attr("id") == a.id && e.attr("type") == a.type &&
						e.attr("src", a
							.img)
				});
				this.result.page.forEach(function (b) {
					a.forEach(function (a) {
						b.id == a.page_id && b.layout.elements.forEach(function (b) {
							b.id && b.id == a.id && b.type == a.type && (b.img = a.img)
						})
					})
				})
			}, delPage = function (a) {
				function d() {
					var a, c, d, e;
					for (a = 0; a < $(".ebg").length; a++) $(".ebg").eq(a).removeClass("ele_background_" + a);
					for (c = $(".editIcon"), d = 0; d < c.length; d++) c.eq(d).attr("page_id") == b && c.eq(d).remove();
					for (e = $(".edit_icon_pop_container"), d = 0; d < e.length; d++) e.eq(d).attr("page_id") ==
						b && e.eq(d)
						.remove();
					setTimeout(function () {
						for (var a = 0; a < $(".layout").length; a++) $(".layout").eq(a).attr("page_id") ==
							b && ($(
								".layout").eq(a).remove(), $(".ebg").eq(a).remove())
					}, 100), setTimeout(function () {
						for (var a = 0; a < $(".ebg").length; a++) $(".ebg").eq(a).addClass(
							"ele_background_" + a)
					}, 200)
				}
				if (0 >= a) return !1;
				var b = this.result.page[a].id,
					c = this;
				this.result.page.splice(a, 1), c.seating == a ? c.gotoPage(a - 1) : c.seating > a && c.seating--,
					setTimeout(function () {
						d()
					}, 600)
			}, getCurrentPage = function () {
				return this.seating
			}, gotoPage = function (a) {
				var d, e, f, g, h, b = this,
					c = b.seating;
				if (a == c) return !1;
				for (d = 0, 0 == a ? $("#upImg").show() : $("#upImg").hide(); a >= d;) $(".ele_background_" + d)
					.css({
						"-webkit-transform": "translateY(0)"
					}), d++;
				if ($("#video").parent().removeClass("vhave"), $("#video").on("touchstart", function () {
						navigator.userAgent.indexOf("Android") > -1 && (document.getElementById("vid").muted =
							"muted",
							document.getElementById("vid").play())
					}), c > a ? ($(".layout").eq(a).removeClass("hide").css({
						"-webkit-transform": "scale(1) translateY(0)"
					}), $(".layout").eq(c).addClass("hide").css({
						"-webkit-transform": "translateY(0)"
					})) : ($(".layout").eq(a).removeClass("hide").css({
						"-webkit-transform": "translateY(0)"
					}), $(".layout").eq(c).addClass("hide")), b.seating = a, b.seatState = !1, $(
						"#other .editIcon").remove(),
					$("#all-page").empty().append(b.createPage(b.result.page)), b.addStyleNode(), a >= b.result
					.page.length -
					1 && (b.otherMap(b.srcMap), $(".mapSeat").attr("src", b.mapSrc), $("#upImg").hide(),
						setTimeout(function () {
							$("#updownIcon").hide()
						}, 300)), !b.editState) return !1;
				for (e = $(".editIcon"), e.addClass("hide"), f = 0; f < e.length; f++) e.eq(f).attr("page_id") ==
					b.result.page[
						b.seating].id && e.eq(f).removeClass("hide");
				g = $(".edit_icon_pop_container"), g.addClass("hide"), h = 0, h = 0 === g.length % 2 ? g.length /
					2 - 1 :
					Math.floor(g.length / 2), g.eq(h).attr("page_id") == b.result.page[b.seating].id && ("true" ===
						localStorage.getItem("edit_icon_pop_tip") ? g.eq(h).addClass("hide") : g.eq(h).attr(
							"page_id") == b.result
						.page[b.seating].id ? setTimeout(function () {
							g.eq(h).attr("page_id") == b.result.page[b.seating].id ? (g.eq(h).removeClass(
								"hide"), g.eq(h).find(
								".edit_icon_poptip").addClass("pop_tip_zoom")) : g.eq(h).addClass(
								"hide")
						}, 3e3) : g.eq(h).addClass("hide")), b.hideEditState && (e.addClass("nosee"), g.eq(h).addClass(
						"hide"))
			}, autoPlayPage = function () {
				if (1 == this.editState) return !1;
				var b, a = this,
					c = a.seating;
				return a.autoState ? (a.seating <= a.result.page.length - 1 && $("#upImg").show(), clearTimeout(
					b), !1) : (
					$("#upImg").hide(), $("#video").parent().removeClass("vhave"), c < a.result.page.length -
					1 ? (c++, a.gotoPage(
						c), b = setTimeout(function () {
						a.autoPlayPage(), clearTimeout(b)
					}, 7e3)) : (c = 0, $(".ebg").css({
						"-webkit-transform": "translateY(" + a.height + "px)"
					}), a.gotoPage(c), b = setTimeout(function () {
						a.autoPlayPage(), clearTimeout(b)
					}, 7e3)), void 0)
			}, positionIcon = function (a, b, c, d, e, f) {
				var g, h, i, j, k, l, m, n, o, p;
				if (this.log = [], g = this, h = g.width, i = b, c.text_type) {
					if (g.log.push({
							text_type: c.text_type,
							x: c.x,
							y: c.y,
							w: c.width,
							h: c.height,
							id: c.id,
							page_id: a.page_id
						}), d == e - 1) {
						for (j = {}, j.x = this.log[0].x, j.y = this.log[0].y, k = 0; k < this.log.length; k++)
							Number(j.x) >
							Number(this.log[k].x) ? j.x = this.log[k].x : null, Number(j.y) < Number(this.log[k]
								.y) ? j.y = this.log[
								k].y : null, j.x == this.log[k].x && (j.w = this.log[k].w, Number(j.w) < Number(
									this.log[k].w) ? j.w =
								this.log[k].w : null), j.y == this.log[k].y && (j.h = this.log[k].h, Number(j.h) <
								Number(this.log[
									k].h) ? j.h = this.log[k].h : null);
						return i = a.isdown ? "bottom:" + Number((g.UI_HEIGHT - j.y - j.h / 2) / g.UI_WIDTH * h +
								25) + "px" :
							c.height >= g.UI_HEIGHT ? "top:" + (g.height - 25) / 2 + "px" : "top:" + Number(
								Number(j.y) / 2 + j.h /
								g.UI_WIDTH * h / 2 - 25) + "px", l = {
								top: i,
								left: Number(j.x / g.UI_WIDTH) * h + Number(j.w / g.UI_WIDTH) * h / 2 - 25 +
									"px"
							}, m = '<div class="editIcon edit_text card_info hide" page_id="' + a.page_id +
							'" id="' + a.id +
							'" type="' + a.type + '" style="' + l.top + ";left:" + l.left +
							'"><i></i><em></em><img src="' + g.changeImgUrl(
								"//qnm.hunliji.com/o_1blae19da7r21etql8r1h45nv2m.png") + '" /></div>', $(
								"#other").append(m), !1
					}
					return !1
				}
				if (a.type) {
					if (l = {
							top: i,
							left: Number(c.x / g.UI_WIDTH) * h + Number(c.width / g.UI_WIDTH) * h / 2 - 25 +
								"px"
						}, a.isdown ? c.video_path ? (l.top = "bottom:" + Number(g.height / 2 - 35) + "px", l.left =
							(g.width -
								25) / 2 + "px") : l.top = "bottom:" + Number((g.UI_HEIGHT - c.y - c.height / 2) /
							g.UI_WIDTH * h - 25) +
						"px" : c.video_width ? l.top = "top:120px" : (n = Number(a.top.replace("px", "")), o =
							Number(a.height.replace(
								"px", "")), l.top = "top:" + (n + (o - 50) / 2) + "px"), a.edit_btn_position)
						switch (a.edit_btn_position
							.toString()) {
							case "1":
								n = Number(a.top.replace("px", "")), o = Number(a.height.replace("px", "")) /
									10, l.top = "top:" +
									(n + o) + "px";
								break;
							case "2":
								n = Number(a.top.replace("px", "")), o = Number(a.height.replace("px", "")), l.top =
									"top:" + (n +
										o - 50 - o / 10) + "px"
						}
					m = '<div  class="editIcon edit_img hide ' + ("map" == a.type ? "card_info" : "") + " " + (
							c.video_width ?
							"videoIcon" : "") + '" videoW="' + c.video_width + '" videoH="' + c.video_height +
						'" videoP="' + c.video_path +
						'" page_id="' + a.page_id + '" id="' + a.id + '" type="' + a.type + '" style="' + l.top +
						";left:" + l.left +
						'"><i></i><em></em><img src="' + ("map" == a.type || "text" == a.type ? g.changeImgUrl(
							"//qnm.hunliji.com/o_1blae19da7r21etql8r1h45nv2m.png") : g.changeImgUrl(
							"//qnm.hunliji.com/o_1blae09s8fcu12qrpgv1qgh1tijh.png")) + '" /></div>', p = "",
						"image" == a.type &&
						0 == f && (p = '<div style="' + l.top +
							";position:fixed;z-index:999999;width:54px;height:54px;left:" +
							l.left + '" class="edit_icon_pop_container hide" page_id="' + a.page_id + '"id="' +
							a.id +
							'"><div class="edit_icon_poptip_wrap "><div class="edit_icon_poptip">上传照片</div></div></div>'
						), m += p,
						$("#other").append(m)
				}
			}, selectGift_v2 = function () {
				function l() {
					a.innerHTML = '<div id ="giftMoreV2" class="gift_box_v2" style="width:' + 626 / c.UI_WIDTH *
						c.width +
						"px;padding: " + 20 / c.UI_WIDTH * c.width +
						'px 0px"><ul id ="g_bd_wrap_v2" style="width:' + 626 / c.UI_WIDTH *
						c.width * Math.ceil(e.length / 8) + 'px;overflow-x:hidden">' + b +
						'</ul><div class="pageGiftV2"></div></div>          </div></div>', document.getElementById(
							"gift_lists") &&
						document.getElementById("gift_lists").appendChild(a), $(".g_bd_v2").css({
							width: 626 / c.UI_WIDTH * c.width
						})
				}

				function m() {
					var a, b, c;
					for (a = 0; a < $(".g_bd_v2").length; a++) a > 1 && $(".g_bd_v2").eq(a).hide();
					for (b = 0, c = ""; b < Math.ceil($(".g_bd_v2").length);) c += "<i></i>", b++;
					$(".pageGiftV2").append(c), $(".pageGiftV2").find("i").eq(0).addClass("ko"), $(
							".pageGiftV2 i").length <=
						1 && $(".pageGiftV2").hide()
				}
				var e, f, g, h, i, j, k, a = document.createElement("div"),
					b = "",
					c = this;
				for (a.setAttribute("id", "send_gift_v2"), e = c.allGifts, f = "", g = "", h = 0, i = 0, j = [1,
						2, 3, 4, 5,
						6, 7, 9, 10, 11, 12, 13, 14, 15, 17, 18
					], k = 0; k < e.length; k++) 8 > h && e[k].icon2 && (f +=
					'<div class="gift-ratio-v2"><div class="gift-ratio-wrap"><div class="gift-item" price="' +
					e[k].price +
					'" cid="' + e[k].id + '" title="' + e[k].title + '" desc="' + e[k].desc + '" src="' + e[
						k].icon + '">' +
					'<div><img src="' + e[k].icon2 + '" alt="' + e[k].title + '">' + "<p>" + e[k].title +
					"</p>" +
					'<p class="p2">￥' + e[k].price + "</p>" + "</div></div></div></div>", h++, i++, h > 7 ?
					(h = 0, g =
						'<li class="g_bd_v2">' + f + "</li>", f = "", b += g) : j.indexOf(i) > -1 && e.length ==
					i && (g =
						'<li class="g_bd_v2">' + f + "</li>", f = "", b += g));
				setTimeout(function () {
					l(), m(), c.gift_action_v2(), c.getGifts_replies()
				}, 300)
			}, giftsMarquee = function () {
				var c, d, e, f, a = this,
					b = "";
				for (b = "", c = 0, d = a.gifts.length; d > c; c++) b += a.gifts[c].card_gift ?
					'<p><strong style="margin-right:4px">' + a.gifts[c].giver_name +
					'</strong>送了<i style="margin-right:13px">' + a.gifts[c].card_gift.title + "</i>" + a.gifts[
						c].card_gift.desc +
					"</p>" : '<p><strong style="margin-right:10px">' + a.gifts[c].giver_name + "</strong>送了<b>" +
					a.gifts[c].price +
					"</b>元红包</p>";
				$("#scrollBox2 li").eq(0).html(b), $("#scrollBox2 li p").length > 4 && ($("#scrollBox2 li").eq(
						1).html(b),
					e = null, f = 1, $("#scrollBox2 li").css({
						height: $("#scrollBox2 li").height() + "px"
					}), $("#scrollBox2").css({
						"-webkit-transform": "translateY(0px)"
					}), e = setInterval(function () {
						var a = $("#scrollBox2").css("-webkit-transform").replace(/[^0-9\-,]/g, "").split(
							",")[0] - f;
						$("#scrollBox2").css({
							"-webkit-transform": "translateY(" + a + "px)"
						}), $("#scrollBox2").css("-webkit-transform").replace(/[^0-9\-,]/g, "").split(
							",")[0] <= -$(
							"#scrollBox2 li").height() && $("#scrollBox2").css({
							"-webkit-transform": "translateY(0px)"
						})
					}, 50))
			}, giftPage = function () {
				var d, e, g, i, j, a = this,
					b = 0;
				return $("#giftPage").length > 0 || this.type ? !1 : (a.createRedPackets(), d = "", d =
					'<div id="giftPage">                  <div class="gift_warp">                    <div class="gift_content"><ul id="scrollBox2"><li></li><li></li></ul><span></span></div>                    <div class="gift_list">                    <div id="gift_lists"></div>                    <a class="send_gift_btn">送礼物</a>                    </div>                  </div>                  <div class="red_packets">                    <a><img src="' +
					a.changeImgUrl("http://qnm.hunliji.com/o_1br6ro5okqdi16qb1tv465a1oc015.png") +
					'"/></a>                    <i class="gift_tishi_v2"></i>                  </div>                  <div id="updownIconV2"><img src="' +
					a.changeImgUrl("http://qnm.hunliji.com/o_1br11t4b71j27alrfgbca1itkm.png") +
					'" style="width:28px;height:12px"></div>                  <div class="package_icon hide"></div>                </div>',
					e = 24 / a.UI_WIDTH * a.width, 16 / a.UI_WIDTH * a.width, g = 120 / a.UI_WIDTH * a.width,
					72 / a.UI_WIDTH *
					a.width, i = '<div id="gift_bg" style="transform:translateY(' + a.height +
					'px);"></div><div id="gift_form" style="padding:0 ' + e + "px 0 " + e +
					'px; ">                                <div class="send_user">                                  <div class="send_user_bd"><i><b>赠送人：</b></i><input class="send_user_txt" id="nameTxtV2" type="text" value="" placeholder="请输入您的姓名"/></div>                                  <div class="send_user_btn"><button type="button" class="sendGiftBtn" id="sendGiftBtnV2" style="width:' +
					g +
					'px;">去支付</button></div>                                </div>                                <div class="gift_name"><p><b>赠送的礼物：</b><i class="gift_name_txt"></i></p></div>                                </div>',
					$("#other").append(d), $("#gift_form").length <= 0 ? $("#other").append(i) : null, a.lastAbout(),
					$(
						"#giftPage").css({
						top: this.height + "px",
						width: this.width + "px",
						height: this.height + "px",
						background: "url(" + a.changeImgUrl(
								"http://qnm.hunliji.com/o_1br0kno0d70o5f12gk1nei53lh.png") +
							") repeat-y 0 0",
						"background-size": "100%"
					}), $(".gift_warp").css({
						width: 700 / this.UI_WIDTH * this.width + "px",
						background: "#fff",
						"border-radius": "20px",
						margin: "auto",
						"margin-top": 40 / this.UI_WIDTH * this.width + "px",
						padding: 40 / this.UI_WIDTH * this.width + "px 0"
					}), $(".red_packets").css({
						width: 734 / this.UI_WIDTH * this.width + "px",
						margin: "auto",
						"padding-top": 16 / this.UI_WIDTH * this.width + "px"
					}), $(".red_packets a").css({
						display: "block"
					}), $(".red_packets i").css({
						display: "block",
						width: 700 / this.UI_WIDTH * this.width + "px",
						height: "25px",
						margin: "auto",
						"text-align": "center"
					}), $(".send_gift_btn").css({
						display: "block",
						width: 600 / this.UI_WIDTH * this.width + "px",
						height: 80 / this.UI_HEIGHT * this.height + "px",
						border: "1px solid #f25863",
						color: "#f25863",
						"text-align": "center",
						"line-height": 80 / this.UI_HEIGHT * this.height + "px",
						"font-size": "14px",
						"border-radius": "10px",
						margin: "auto"
					}), $(".gift_content").css({
						position: "relative",
						color: "#000",
						margin: "0 16px",
						"border-bottom": "1px solid #e2e2e2",
						height: 224 / this.UI_HEIGHT * this.height + "px",
						overflow: "hidden"
					}), $(".gift_content ul").css({
						margin: "0 " + 20 / this.UI_WIDTH * this.width + "px " + 20 / this.UI_WIDTH *
							this.width + "px",
						"line-height": 52 / this.UI_HEIGHT * this.height + "px"
					}), $(".gift_content span").css({
						height: 28 / this.UI_WIDTH * this.width + "px"
					}), $(".send_user_bd").css({
						width: 480 / this.UI_WIDTH * this.width + "px"
					}), $(".send_user_txt").css({
						width: 340 / this.UI_WIDTH * this.width + "px"
					}), $(".package_icon").css({
						width: 136 / this.UI_WIDTH * this.width + "px",
						height: 102 / this.UI_WIDTH * this.width + "px"
					}), $(document).on("touchend", "#gift_bg", function () {
						setTimeout(function () {
							$(".nameTxtV2").val("").blur()
						}, 300)
					}), $(document).on("touchstart", "#gift_bg", function () {
						$(this).css({
							"-webkit-transform": "translateY(" + a.height + "px)"
						}), $("#gift_form").removeClass("active"), $("#nameTxtV2").blur()
					}), $(document).on("touchstart", ".send_gift_btn,#sendGiftBtn", function (a) {
						b = a.changedTouches[0].clientY
					}), $(document).on("touchend", ".send_gift_btn,#sendGiftBtn", function (c) {
						var d = $(this).hasClass("send_gift_btn");
						d && a.writeCookie("showGiftPage", !0, 1), (!d || c.changedTouches[0].clientY -
							b < 10 && c.changedTouches[
								0].clientY - b >= 0) && ($(".gift_name_txt").text(a.giftProperty.title +
								"（￥" + a.giftProperty.price +
								"）"), a.send_name ? ($("#nameTxtV2").val(a.send_name), $(
								"#sendGiftBtnV2").addClass("active")) :
							$("#sendGiftBtnV2").removeClass("active"), setTimeout(function () {
								$("#gift_form").addClass("active"), $("#gift_bg").css({
									"-webkit-transform": "translateY(0)"
								})
							}, 300), navigator.userAgent.indexOf("Android") > -1 ? setTimeout(
								function () {
									$("#nameTxtV2").focus()
								}, 300) : $("#nameTxtV2").focus(), a.$giftAni.removeClass("animate")
						)
					}), j = new Hammer(document.getElementById("giftPage")), a = this, j.get("swipe").set({
						direction: Hammer.DIRECTION_ALL
					}), j.on("swipe", function (b) {
						var c = b.deltaY;
						if (c > 100 && "0px" == $("#giftPage").css("top") && a.seating == a.result.page
							.length - 1 && !a.showGiftPage)
							return a.showGiftPage = !0, $("#giftPage").css({
								top: a.height + "px",
								opacity: 0
							}), a.$giftAni.removeClass("animate"), !1;
						if (-100 > c) a.seating <= a.result.page.length - 2 || !$(".layout").eq(a.result
								.page.length - 1).hasClass(
								"hide") && a.seating == a.result.page.length - 1 && $("#lastAbout").css(
								"top") == a.height +
							"px" && a.lastDown && 0 == a.showGiftPage && (a.lastDown = !1, $(
								"#lastAbout").css({
								top: 0,
								opacity: 1
							}), a.$giftAni.removeClass("animate"), a.make || (a.sdkData({
								action: "make",
								eventable_type: "Card",
								additional: {
									ip: a.ip,
									card_id: a.card_id,
									num: a.rans(32)
								}
							}, function () {}), a.make = 1)), $("#upImg").hide();
						else {
							if ("0px" == $("#lastAbout").css("top") && a.seating == a.result.page.length -
								1 && !a.lastDown)
								return a.lastDown = !0, $("#lastAbout").css({
									top: a.height + "px",
									opacity: 0
								}), !1;
							a.seating <= 1 && $("#upImg").show()
						}
					}), void 0)
			}, createRedPackets = function () {
				var f, g, a = this,
					b = 24 / a.UI_WIDTH * a.width;
				return 16 / a.UI_WIDTH * a.width, 120 / a.UI_WIDTH * a.width, 72 / a.UI_WIDTH * a.width, f =
					'<div id="red_packets_bg" class="hide"></div>        <div id="red_packets_form" class="hide">        <div class="container"><div class="flip"><div class="front"><img src="' +
					a.changeImgUrl("http://qnm.hunliji.com/o_1br3sqcqfihrqq73fn1rcs2iru.png") +
					'" style="width:100%;height:100%"/></div><div class="back"><img src="' + a.changeImgUrl(
						"http://qnm.hunliji.com/o_1br6i7odt1hf345lpm1dqdog610.png") +
					'" style="width:100%;height:100%"/></div></div></div>        <div class="money"></div>        <div class="red_packets_before"></div>        <div class="red_packets_wrap">        <div class="red_packets_name"><i>赠送人：</i><input class="red_packets_name_txt"  style="padding:' +
					b + "px 0 " + b +
					'px 0;" type="text" value="" placeholder="请输入您的姓名"/></div>        <div class="red_packets_money"><i>礼金金额：</i><input class="red_packets_money_txt"  style="padding:' +
					b + "px 0 " + b +
					'px 0;" type="number" value="" placeholder="请输入礼金金额"/></div>        <i class="red_packets_tip"></i>        <a class="red_packets_btn" id="sendPriceBtnV2"><img src="' +
					a.changeImgUrl("http://qnm.hunliji.com/o_1br6i543210sh1ftisg57fe135tr.png") +
					'"/></a>        </div>        <a class="close_red_packets"><img src="' + a.changeImgUrl(
						"http://qnm.hunliji.com/o_1br37s33k1155ams19a6h471nrb7.png") + '"/></a>        </div>',
					$(
						"#red_packets_bg").length <= 0 ? ($("#other").append(f), $(".container").css({
							width: 636 / this.UI_WIDTH * this.width + "px",
							height: 183 / this.UI_HEIGHT * this.height + "px"
						}), $(".front").css({
							width: 636 / this.UI_WIDTH * this.width + "px",
							height: 183 / this.UI_HEIGHT * this.height + "px"
						}), $(".back").css({
							width: 636 / this.UI_WIDTH * this.width + "px",
							height: 183 / this.UI_HEIGHT * this.height + "px"
						}), $(".close_red_packets").css({
							width: 104 / a.UI_WIDTH * a.width + "px",
							height: 104 / a.UI_WIDTH * a.width + "px",
							"text-align": "center"
						}), $(".close_red_packets img").css({
							width: 52 / a.UI_WIDTH * a.width + "px",
							height: 52 / a.UI_WIDTH * a.width + "px",
							"margin-top": "25%"
						}), $(".red_packets_wrap").css({
							position: "relative",
							"z-index": "13px",
							top: 80 / a.UI_WIDTH * a.width + "px"
						}), $("#red_packets_form").css({
							width: 636 / this.UI_WIDTH * this.width + "px",
							height: 860 / this.UI_HEIGHT * this.height + "px",
							margin: "0 auto",
							top: 294 / this.UI_WIDTH * this.width + "px"
						}), $(".red_packets_btn").css({
							display: "block",
							width: 520 / a.UI_WIDTH * a.width + "px",
							height: 88 / a.UI_HEIGHT * a.height + "px",
							margin: "auto"
						}), $(".red_packets_name").css({
							width: 520 / a.UI_WIDTH * a.width + "px"
						}), $(".red_packets_money").css({
							width: 520 / a.UI_WIDTH * a.width + "px"
						}), $(".red_packets_wrap input").css({
							width: 330 / a.UI_WIDTH * a.width + "px"
						}), g = a.isCardMaster ? "//qnm.hunliji.com/o_1c7ajea971ka5ic41gpj2ta1h677.png" :
						"//qnm.hunliji.com/o_1br1ih4sf1gj9vah1gphldi8ic15.png", $(".red_packets_tip").css({
							display: "block",
							width: 460 / this.UI_WIDTH * this.width + "px",
							height: "25px",
							margin: "auto",
							"margin-bottom": 30 / this.UI_WIDTH * this.width + "px",
							background: "url(" + a.changeImgUrl(g) + ") no-repeat 0 0",
							"background-size": "100%"
						}), $(".money").css({
							width: 565 / a.UI_WIDTH * a.width + "px",
							height: 700 / a.UI_HEIGHT * a.height + "px"
						}), void 0) : !1
			}, lastAbout = function () {

			}, getSaasMerchantInfo = function (a) {
				var b = this;
				$.ajax({
					url: b.saashost + b.API.getInfo,
					type: "get",
					data: {
						merchant_id: a
					},
					success: function (a) {
						0 == a.status.RetCode && ($("#lastAbout .name").html(a.data.name), $(
							"#lastAbout .address").html(
							a.data.address), $("#lastAbout").css({
							background: "rgba(253, 254, 254,.9)"
						}), a.data.contact_phone ? $(".contactUs").attr("href", "tel:" + a.data
							.contact_phone) : $(
							".contactUs").attr("href", "tel:" + a.data.phone))
					}
				})
			}, upDownIcon = function () {
				var a = this,
					b = document.createElement("div");
				b.setAttribute("id", "upImg"), b.style.bottom = 80 / this.UI_WIDTH * this.width + "px", b.innerHTML =
					'<img src="' + a.changeImgUrl(a.pageIcon) + '"/>', document.body.appendChild(b)
			}, iosReg = function () {
				var b = navigator.userAgent.toLowerCase(),
					c = b.match(/cpu iphone os (.*?) like mac os/);
				return c && c[1].split(/_/g)[0] < 9 ? c[1].split(/_/g)[0] : void 0
			}, isIphoneX = function () {
				return navigator.userAgent.indexOf("iPhone") > -1 && 812 == screen.height && 375 == screen.width
			}, touchAction = function () {
				var a = new Hammer(document.getElementById("wrap")),
					b = this,
					c = b.type ? 100 : 600;
				b.type && $(".layout").css({
					"-webkit-transition-duration": "300ms"
				}), a.get("swipe").set({
					direction: Hammer.DIRECTION_ALL
				}), a.on("swipe", function (a) {
					var e, f, g, h, i, d = a.deltaY;
					if (b.seating >= b.result.page.length - 2 && b.otherMap(b.srcMap), b.autoState = !0,
						0 > d) b.seating <=
						b.result.page.length - 2 || (b.otherState.chat_gift && b.otherState.chat_cash ?
							$(".layout").eq(b.result
								.page.length - 1).hasClass("hide") || b.seating != b.result.page.length -
							1 || $("#giftPage").css(
								"top") != b.height + "px" || (b.showGiftPage = !1, $("#giftPage").css({
								top: 0,
								opacity: 1
							}), b.animateGiftAni(), $("#upImg").hide()) : !$(".layout").eq(b.result.page
								.length - 1).hasClass(
								"hide") && b.seating == b.result.page.length - 1 && $("#lastAbout").css(
								"top") == b.height +
							"px" && b.lastDown && (b.lastDown = !1, $("#lastAbout").css({
								top: 0,
								opacity: 1
							}), b.$giftAni.removeClass("animate"), b.make || (b.sdkData({
								action: "make",
								eventable_type: "Card",
								additional: {
									ip: b.ip,
									card_id: b.card_id,
									num: b.rans(32)
								}
							}, function () {}), b.make = 1))), $("#upImg").hide();
					else {
						if ("0px" == $("#lastAbout").css("top") && b.seating == b.result.page.length -
							1 && !b.lastDown)
							return b.lastDown = !0, $("#lastAbout").css({
								top: b.height + "px",
								opacity: 0
							}), !1;
						b.seating <= 1 && $("#upImg").show()
					}
					if (d > 0 && b.seating > 0 ? (b.seatState && (e = b.seating, b.exPage ? e = b.exPage +
								1 : b.sortS &&
								(e = Number(b.sortS + 1)), b.seatState = !1, $(".layout").eq(e - 1).css({
									"-webkit-transform": "translateY(" + b.height + "px)"
								}), $("#all-page").css({
									opacity: 0
								}), $(".ele_background_" + Number(e - 1)).css({
									"-webkit-transform": "translateY(" + b.height + "px)"
								}), setTimeout(function () {
									$("#all-page").css({
											opacity: 1
										}), $("#all-page").empty().append(b.createPage(b.result.page)),
										b.addStyleNode()
								}, 600)), navigator.userAgent.indexOf("Android") > -1 && b.seating - 2 ==
							b.videoNext &&
							document.getElementById("vid") && setTimeout(function () {
								document.getElementById("vid").muted = "muted", document.getElementById(
									"vid").play()
							}, 600), b.seating--, b.type ? ($(".layout").eq(b.seating + 1).css({
								opacity: "0"
							}), $(".ele_background_" + Number(b.seating + 1)).css({
								opacity: "0"
							}), setTimeout(function () {
								$(".layout").eq(b.seating).removeClass("hide").css({
									opacity: "1"
								}), $(".layout").eq(b.seating + 1).addClass("hide").css({
									opacity: "1"
								}), b.result.theme_background && ($(".ele_background_" +
									Number(b.seating)).css({
									"-webkit-transform": "translateY(0px)"
								}), $(".ele_background_" + Number(b.seating + 1)).css({
									"-webkit-transform": "translateY(" + b.height +
										"px)"
								}))
							}, c)) : ($(".layout").eq(b.seating + 1).css({
								"-webkit-transform": "translateY(" + b.height + "px)"
							}), $(".ele_background_" + Number(b.seating + 1)).css({
								"-webkit-transform": "translateY(" + b.height + "px)"
							}), setTimeout(function () {
								$(".layout").eq(b.seating).removeClass("hide").css({
									"-webkit-transform": "scale(1) translateY(0)"
								}), $(".layout").eq(b.seating + 1).addClass("hide").css({
									"-webkit-transform": "translateY(" + b.height +
										"px)"
								}), b.result.theme_background && ($(".ele_background_" +
									Number(b.seating)).css({
									"-webkit-transform": "translateY(0px)"
								}), $(".ele_background_" + Number(b.seating + 1)).css({
									"-webkit-transform": "translateY(" + b.height +
										"px)"
								}))
							}, c))) : 0 > d && b.seating < b.result.page.length && b.seating != b.result
						.page.length - 1 && (
							b.seatState && (e = b.seating, b.exPage && (e = b.exPage + 1), b.seatState = !
								1, $(".layout").eq(
									e - 1).css({
									"-webkit-transform": "translateY(-" + b.height + "px)"
								}), $("#all-page").css({
									opacity: 0
								}), $(".ele_background_" + Number(e - 1)).css({
									"-webkit-transform": "translateY(-" + b.height + "px)"
								}), setTimeout(function () {
									$("#all-page").css({
											opacity: 1
										}), $("#all-page").empty().append(b.createPage(b.result.page)),
										b.addStyleNode()
								}, 600)), navigator.userAgent.indexOf("Android") > -1 && b.seating == b
							.videoNext && document.getElementById(
								"vid") && setTimeout(function () {
								document.getElementById("vid").muted = "muted", document.getElementById(
									"vid").play()
							}, 600), b.seating++, b.type ? ($(".layout").eq(b.seating - 1).css({
								opacity: "0"
							}), $(".ele_background_" + b.seating).css({
								opacity: "1"
							}), setTimeout(function () {
								$(".layout").eq(b.seating).removeClass("hide"), $(".layout").eq(
									b.seating - 1).addClass(
									"hide"), b.result.theme_background && ($(
									".ele_background_" + Number(b.seating - 1)).css({
									"-webkit-transform": "translateY(" + b.height +
										"px)"
								}), $(".ele_background_" + b.seating).css({
									"-webkit-transform": "translateY(0px)"
								}))
							}, c)) : ($(".layout").eq(b.seating - 1).css({
								"-webkit-transform": "scale(1) translateY(-" + 1.2 * b.height +
									"px)"
							}), $(".ele_background_" + b.seating).css({
								"-webkit-transform": "translateY(0)"
							}), setTimeout(function () {
								$(".layout").eq(b.seating).removeClass("hide").css({
										"-webkit-transform": "translateY(0)"
									}), $(".layout").eq(b.seating - 1).addClass("hide"), b.result
									.theme_background && $(
										".ele_background_" + Number(b.seating - 1)).css({
										"-webkit-transform": "translateY(" + b.height +
											"px)"
									})
							}, c))), setTimeout(function () {
							b.chatMsg()
						}, 600), b.editState && (b.type || b.getParams("edit"))) {
						for (f = $(".editIcon"), f.addClass("hide"), g = 0; g < f.length; g++) f.eq(g).attr(
								"page_id") == b
							.result.page[b.seating].id && f.eq(g).removeClass("hide");
						h = $(".edit_icon_pop_container"), h.addClass("hide"), i = 0, i = 0 === h.length %
							2 ? h.length / 2 -
							1 : Math.floor(h.length / 2), "true" === localStorage.getItem(
								"edit_icon_pop_tip") ? h.eq(i).addClass(
								"hide") : h.eq(i).attr("page_id") == b.result.page[b.seating].id ?
							setTimeout(function () {
								h.eq(i).attr("page_id") == b.result.page[b.seating].id ? (h.eq(i).removeClass(
										"hide"), h.eq(i)
									.find(".edit_icon_poptip").addClass("pop_tip_zoom")) : h.eq(
									i).addClass("hide")
							}, 3e3) : h.eq(i).addClass("hide")
					}
				})
			}, getParams = function (a) {
				function c() {
					var a, b, f, c = /\+/g,
						d = /([^&=]+)=?([^&]*)/g,
						e = function (a) {
							return decodeURIComponent(a.replace(c, " "))
						};
					for (f = window.location.hash.substring() ? window.location.hash.substring().split("?")[1] :
						window.location
						.search.substring(1), a = {}; b = d.exec(f);) a[e(b[1])] = e(b[2]);
					return a
				}
				var b = c();
				return b[a]
			}, sendCash = function (a) {
				var b = this;
				$.ajax({
					url: b.localhost + a.api,
					type: "post",
					data: a.data,
					success: function (c) {
						0 == c.status.RetCode ? (sessionStorage.setItem("gift_id", ""),
							sessionStorage.setItem("cash_id",
								c.data["entity_id"] || ""), b.msgMax2BTN(["请确认请帖新郎<b>" + b.result
								.cardInfo.groom_name +
								"</b>和新娘<b>" + b.result.cardInfo.bride_name +
								"</b>是否是您的真实亲友哦~",
								"*注：婚礼纪官方不会做任何返利抽奖等活动，请勿相信此类活动"
							], ["否", "是"], function () {
								b.wxPaySend(a, c.data.pay_params, "cash")
							}, "left"), $(".loadmore-loading").remove()) : (b.msgMax(
							"请在微信客户端进行支付操作", "确定"), $(
							".loadmore-loading").remove())
					}
				})
			}, sendGift = function (a) {
				var b = this;
				$.ajax({
					url: b.localhost + a.payApi,
					type: "post",
					data: a.payParams,
					success: function (c) {
						0 == c.status.RetCode ? (sessionStorage.setItem("cash_id", ""),
							sessionStorage.setItem("gift_id",
								c.data["entity_id"] || ""), a.payMoney >= 100 ? b.msgMax2BTN([
								"请确认请帖新郎<b>" + b.result.cardInfo
								.groom_name + "</b>和新娘<b>" + b.result.cardInfo.bride_name +
								"</b>是否是您的真实亲友哦~",
								"*注：婚礼纪官方不会做任何返利抽奖等活动，请勿相信此类活动"
							], ["否", "是"], function () {
								b.wxPaySend(a, c.data.pay_params, "payGift")
							}, "left") : b.wxPaySend(a, c.data.pay_params, "payGift"), $(
								".loadmore-loading").remove()) : (
							b.msgMax("请在微信客户端进行支付操作", "确定"), $(".loadmore-loading").remove())
					}
				})
			}, wxPaySend = function (a, b, c) {
				var d = this;
				b && WeixinJSBridge.invoke("getBrandWCPayRequest", JSON.parse(b), function (e) {
					if ($(".msgMax_box") && $(".msgMax_box").remove(), "get_brand_wcpay_request:ok" ==
						e.err_msg) {
						var f = "";
						f = "payGift" == c ? a.payCallBack + "?type=gift&payGift=" + a.payGift +
							"&payMoney=" + a.payMoney :
							a.callback + "?type=cash&payMoney=" + a.data.price, d.isCardMaster && (f +=
								"&appName=cardMaster"),
							window.location.href = f, pay.writeCookie("cardPrice", !0), pay.writeCookie(
								"cashGiftName", a.giver_name)
					} else "get_brand_wcpay_request:cancel" == e.err_msg ? d.msgMax2BTN([
						"亲，您真的要放弃支付吗？<br>新人会难过的哟"
					], [
						"朕意已决", "立即支付"
					], function () {
						d.wxPaySend(a, b, c)
					}) : "get_brand_wcpay_request:fail" == e.err_msg && (d.msgMax(e.err_code + e.err_desc +
						e.err_msg,
						"确定"), d.writeCookie("showGiftPage", !1, -1))
				})
			}, msgMax = function (a, b, c) {
				$("body").append(
					'<div class="msgMax_box" style="position:fixed;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.6);z-index:999"></div><div class="msgMax_box" style="margin:auto;position:fixed;top:0;left:0;bottom:0;right:0;width:75%;height:' +
					.25 * $(window).height() +
					'px;background:#fff;border-radius:8px;text-align:center;font-size:16px;z-index:9999"><p style="padding:0 18px;display:table-cell;vertical-align:middle;color:#666;width:' +
					.75 * $(window).width() + "px;height:" + .18 * $(window).height() +
					'px;line-height:1.5;">' + a +
					'</p><div class="msgMax_btn" style="color:#ff705e;border-top:1px solid #e5e5e5;line-height:' +
					.07 * $(
						window).height() + 'px;">' + b + "</div></div>"), $(document).on("touchstart",
					".msgMax_btn",
					function () {
						$(".msgMax_box").remove()
					}), c && c()
			}, msgMax2BTN = function (a, b, c, d) {
				var f, e = d ? d : "center";
				$("body").append(
					'<div class="msgMax_box" style="position:fixed;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.6);z-index:999"></div><div class="msgMax_box" style="margin:auto;position:fixed;top:0;left:0;bottom:0;right:0;width:75%;height:' +
					.31 * $(window).height() + "px;background:#fff;border-radius:8px;text-align:" + e +
					';font-size:16px;z-index:9999"><div style="padding:7px 18px 0 18px;display:table-cell;vertical-align:middle;color:#666;width:' +
					.75 * $(window).width() + "px;height:" + .23 * $(window).height() +
					'px;line-height:1.5;">' + a[0] +
					'<p style="font-size:12px;color:#999;line-height:1.5;padding-top:5px">' + (a[1] || "") +
					'</p></div><div class="msgMax_btn" style="display:-webkit-box;color:#ff705e;text-align:center;border-top:1px solid #e5e5e5;line-height:' +
					.07 * $(window).height() +
					'px;"><div class="cancelBtn" style="-webkit-box-flex:1;border-right:1px solid #e5e5e5;color:#ddd">' +
					b[
						0] + '</div><div class="payBtn" style="-webkit-box-flex:1;color:#1aad19">' + b[1] +
					"</div></div></div>"), f = this, $(".cancelBtn").on("touchend", function () {
					$(".msgMax_box").remove(), f.writeCookie("showGiftPage", !1, -1)
				}), $(".payBtn").on("touchend", function () {
					c && c()
				})
			}, isWeiXin = function () {
				var a = window.navigator.userAgent.toLowerCase();
				return "micromessenger" == a.match(/MicroMessenger/i) ? !0 : !1
			}, isWXwork = function () {
				var a = window.navigator.userAgent.toLowerCase();
				return "wxwork" == a.match(/wxwork/i) ? !0 : !1
			}, writeCookie = function (a, b, c) {
				var d = "";
				null != c && (d = new Date((new Date).getTime() + 36e5 * c), d = "; expires=" + d.toGMTString()),
					document.cookie =
					a + "=" + escape(b) + d + ";path=/"
			}, getCookie = function (a) {
				var b = document.cookie,
					c = b.indexOf("" + a + "=");
				return -1 == c && (c = b.indexOf(a + "=")), -1 == c ? b = null : (c = b.indexOf("=", c) + 1,
					cookieEndAt =
					b.indexOf(";", c), -1 == cookieEndAt && (cookieEndAt = b.length), b = unescape(b.substring(
						c,
						cookieEndAt))), b
			}, sdkData = function (a, b, c) {
				var d = this,
					e = '{"events":[' + JSON.stringify(a) + "]}",
					f = this.getParams("appName") || "";
				$.ajax({
					url: d.API.sdkData,
					type: "post",
					data: e,
					headers: {
						appName: f
					},
					success: function () {
						b && b()
					},
					error: function () {
						c && c()
					}
				})
			}, rans = function (a) {
				var b, c, d;
				if (localStorage.getItem("rans")) return localStorage.getItem("rans");
				for (a = a || 32, b = "ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678", c = b.length, d = "",
					i = 0; a >
					i; i++) d += b.charAt(Math.floor(Math.random() * c));
				return localStorage.setItem("rans", d), d
			}, sdk = function () {
				var a = this,
					b = a.result.cardInfo.card_saas_info;
				$.ajax({
					url: "https://www.hunliji.com/sms/ip",
					type: "get",
					success: function (b) {
						a.ip = b, localStorage.setItem("ip", b)
					}
				}), setTimeout(function () {
					a.sdkData({
						action: "view",
						eventable_type: "Card",
						additional: {
							ip: a.ip,
							card_id: a.card_id,
							num: a.rans(32),
							tag: b ? "saas" : ""
						}
					})
				}, 3e3)
			}, animateGiftAni = function () {
				var a = this;
				a.$giftAni.removeClass("animate"), a.$giftAni.find("img").attr("src", a.giftProperty.imgUrl), a
					.$giftAni.find(
						"span").text(a.giftProperty.desc), a.$giftAni.css("top", a.showGiftPage ? "120px" :
						"80px"), setTimeout(
						function () {
							a.$giftAni.addClass("animate")
						}, 10)
			}, giftSelection = function (a) {
				var e, b = this,
					c = 0,
					d = b.defaultGiftSeat;
				a.forEach(function (a) {
					a.card_gift && "蜜月保" == a.card_gift.title && c++
				}), c > 0 && 3 > c && b.allGifts.forEach(function (a, b) {
					"蜜月保" === a.title && (d = b)
				}), $(".gift-ratio").hammer ? (new Hammer.Manager($(".gift-ratio").eq(d)[0]).emit("tap", {
					from: "jsTap"
				}), new Hammer.Manager($(".gift-ratio-v2").eq(d)[0]).emit("tap", {
					from: "jsTap"
				})) : e = setInterval(function () {
					$(".gift-ratio").hammer && (new Hammer.Manager($(".gift-ratio").eq(d)[0]).emit(
						"tap", {
							from: "jsTap"
						}), new Hammer.Manager($(".gift-ratio-v2").eq(d)[0]).emit("tap", {
						from: "jsTap"
					}), clearInterval(e))
				}, 1e3)
			}, mzImp = function () {
				var b = navigator.userAgent.indexOf("iPhone") > -1 ? 1 : navigator.userAgent.indexOf("Android") >
					-1 ? 0 :
					navigator.userAgent.indexOf("Windows Phone") > -1 ? 2 : 3;
				$.ajax({
					url: "https://g.cn.miaozhen.com/x/k=2075581&p=7DqRx&dx=__IPDX__&rt=2&ns=__IP__&ni=__IESID__&v=__LOC__&xa=__ADPLATFORM__&tr=__REQUESTID__&mo=" +
						b +
						"&m0=__OPENUDID__&m0a=__DUID__&m1=__ANDROIDID1__&m1a=__ANDROIDID__&m2=__IMEI__&m4=__AAID__&m5=__IDFA__&m6=__MAC1__&m6a=__MAC__&o=",
					type: "get",
					dataType: "jsonp",
					success: function () {}
				})
			}, mzClick = function () {
				var b = navigator.userAgent.indexOf("iPhone") > -1 ? 1 : navigator.userAgent.indexOf("Android") >
					-1 ? 0 :
					navigator.userAgent.indexOf("Windows Phone") > -1 ? 2 : 3;
				$.ajax({
					url: "https://e.cn.miaozhen.com/r/k=2075581&p=7DqRx&dx=__IPDX__&rt=2&ns=__IP__&ni=__IESID__&v=__LOC__&xa=__ADPLATFORM__&tr=__REQUESTID__&mo=" +
						b +
						"&m0=__OPENUDID__&m0a=__DUID__&m1=__ANDROIDID1__&m1a=__ANDROIDID__&m2=__IMEI__&m4=__AAID__&m5=__IDFA__&m6=__MAC1__&m6a=__MAC__&o=",
					type: "get",
					dataType: "jsonp",
					success: function () {}
				})
			}, addStyleNode = function () {
				var a = document.createElement("style"),
					b = this;
				a.innerHTML = b.aniStyle, $("head").find("style").length > 0 && $("head").find("style").remove(),
					$("head")
					.append(a)
			}, {
				addStyleNode: addStyleNode,
				mzClick: mzClick,
				mzImp: mzImp,
				giftSelection: giftSelection,
				changeImgUrl: changeImgUrl,
				wxPaySend: wxPaySend,
				msgMax: msgMax,
				msgMax2BTN: msgMax2BTN,
				isWeiXin: isWeiXin,
				wxsq: wxsq,
				wxsq_event: wxsq_event,
				otherAction: otherAction,
				guestPageHide: guestPageHide,
				ajax_reply: ajax_reply,
				ajax_info: ajax_info,
				ajax_gifts: ajax_gifts,
				closeCardState: closeCardState,
				init: init,
				hideEdit: hideEdit,
				get_infinite: get_infinite,
				selectGift: selectGift,
				getGifts_replies: getGifts_replies,
				chatMsg: chatMsg,
				gift_action: gift_action,
				winMsg: winMsg,
				outputMsg: outputMsg,
				loadAnimate: loadAnimate,
				allImg: allImg,
				loading: loading,
				add_infinite: add_infinite,
				rov_infinite: rov_infinite,
				otherMap: otherMap,
				addStyle: addStyle,
				createPage: createPage,
				guestsPage: guestsPage,
				guestAction: guestAction,
				musicPause: musicPause,
				changeVideo: changeVideo,
				changeMusic: changeMusic,
				musicStatePause: musicStatePause,
				exchangePage: exchangePage,
				addPage: addPage,
				editPageHoles: editPageHoles,
				delPage: delPage,
				getCurrentPage: getCurrentPage,
				gotoPage: gotoPage,
				autoPlayPage: autoPlayPage,
				positionIcon: positionIcon,
				lastAbout: lastAbout,
				giftPage: giftPage,
				selectGift_v2: selectGift_v2,
				gift_action_v2: gift_action_v2,
				upDownIcon: upDownIcon,
				iosReg: iosReg,
				touchAction: touchAction,
				editCard_app: editCard_app,
				editIconState: editIconState,
				getParams: getParams,
				sendGift: sendGift,
				sendCash: sendCash,
				writeCookie: writeCookie,
				getCookie: getCookie,
				rans: rans,
				sdkData: sdkData,
				sdk: sdk,
				getSaasMerchantInfo: getSaasMerchantInfo,
				createRedPackets: createRedPackets,
				giftsMarquee: giftsMarquee,
				isIphoneX: isIphoneX,
				isWXwork: isWXwork,
				animateGiftAni: animateGiftAni,
				giftTishi: giftTishi
			}
		}();
		var INVITATION_CARD = new boot;
		INVITATION_CARD.ajax_info();
	</script>
	<script>
		//jquery.hammer.js换成Zepto
		(function (factory) {
			if (typeof define === 'function' && define.amd) {
				define(['zepto', 'hammerjs'], factory);
			} else if (typeof exports === 'object') {
				factory(require('zepto'), require('hammerjs'));
			} else {
				factory(Zepto, Hammer);
			}
		}(function ($, Hammer) {
			function hammerify(el, options) {
				var $el = $(el);
				if (!$el.data("hammer")) {
					$el.data("hammer", new Hammer($el[0], options));
				}
			}

			$.fn.hammer = function (options) {
				return this.each(function () {
					hammerify(this, options);
				});
			};

			// extend the emit method to also trigger jQuery events
			Hammer.Manager.prototype.emit = (function (originalEmit) {
				return function (type, data) {
					originalEmit.call(this, type, data);
					$(this.element).trigger({
						type: type,
						gesture: data
					});
				};
			})(Hammer.Manager.prototype.emit);
		}));
	</script>
</body>

</html>